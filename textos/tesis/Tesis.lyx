#LyX 2.1 created this file. For more info see http://www.lyx.org/
\lyxformat 474
\begin_document
\begin_header
\textclass amsbook
\begin_preamble
\usepackage{pgf,tikz}
\usetikzlibrary{arrows}

\usepackage{algorithm,algpseudocode}
\usepackage{hyperref}
\usepackage[style=authoryear,backend=biber]{biblatex}

\ifcsname input@path\endcsname 
  \edef\@basepath{\expandafter\@firstofone\input@path} %remove curly braces
  \def\rm@quotes#1"#2"#3\@nul{\ifx\relax#2\relax #1\else #2\fi} %
  \edef\@basepath{\expandafter\rm@quotes\@basepath""\@nul} %remove quotes
\else\edef\@basepath{./}\fi

 \let\orig@addbibresource\addbibresource
\renewrobustcmd*{\addbibresource}[2][type=file]{\orig@addbibresource[#1]{\@basepath#2}}

\addbibresource{tesis.bib}






\usepackage{color}
\definecolor{gray97}{gray}{.97}
\definecolor{gray75}{gray}{.75}
\definecolor{gray45}{gray}{.45}

\usepackage{listings}


% minimizar fragmentado de listados
\lstnewenvironment{listing}[1][]
{\lstset{#1}\pagebreak[0]}{\pagebreak[0]}

\lstdefinestyle{consola}
{basicstyle=\scriptsize\bf\ttfamily,
backgroundcolor=\color{gray75},
}
\end_preamble
\use_default_options false
\begin_modules
theorems-ams
eqs-within-sections
figs-within-sections
theorems-ams-extended
\end_modules
\maintain_unincluded_children false
\language spanish
\language_package default
\inputencoding auto
\fontencoding global
\font_roman default
\font_sans default
\font_typewriter default
\font_math auto
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command biber
\index_command default
\paperfontsize default
\spacing single
\use_hyperref false
\papersize a4paper
\use_geometry false
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 2cm
\rightmargin 2cm
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language french
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\enumeracion}[3][n][x][1]{#2_{#3},\dots,#2_{#1}}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\fee}[3][\gamma]{#1:\mathbf{#2}\rightarrow\mathbf{#3}}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\funcion}[3][\gamma]{#1:#2\rightarrow#3}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\embedding}[3][\gamma]{#1:\mathbf{#2}\hookrightarrow\mathbf{#3}}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\deff}[2][\varphi][\bar{x}]{#1\left(#2\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\sat}[3]{#1\vDash#2\left[#3\right]}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\nsat}[3]{\mathbf{#1}\not\vDash#2\left[#3\right]}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\subuniv}[2]{\left\langle \bar{#1}\right\rangle ^{\mathbf{#2}}}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\subiso}[1]{\operatorname{sub\, iso}\left(#1\right)}
{\mathrm{sub\, iso}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\subhom}[1]{\operatorname{sub\, hom}\left(#1\right)}
{\mathrm{sub\, hom}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\iso}[1]{\operatorname{iso}\left(#1\right)}
{\mathrm{iso}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\aut}[1]{\operatorname{aut}\left(#1\right)}
{\mathrm{aut}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\hom}[1]{\operatorname{hom}\left(#1\right)}
{\mathrm{hom}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\subestr}[1]{\operatorname{\mathbb{S}}\left(#1\right)}
{\mathrm{\mathbb{S}}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\subestrl}[2]{\operatorname{\mathbb{S}}_{#2}\left(#1\right)}
{\mathrm{\mathbb{S}}_{#2}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\dominio}[1]{\operatorname{Dom}\left(#1\right)}
{\mathrm{Dom}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\imagen}[1]{\operatorname{Img}\left(#1\right)}
{\mathrm{Img}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\partes}[1]{\operatorname{\mathcal{P}}\left(#1\right)}
{\mathrm{\mathcal{P}}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\bihom}[1]{\operatorname{bi\, hom}\left(#1\right)}
{\mathrm{bi\, hom}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Standard
\begin_inset FormulaMacro
\newcommand{\grafico}[1]{\operatorname{graph}\left(#1\right)}
{\mathrm{graph}\left(#1\right)}
\end_inset


\end_layout

\begin_layout Chapter
Introducción
\end_layout

\begin_layout Chapter
Preliminares
\end_layout

\begin_layout Standard
Basándonos en 
\begin_inset CommandInset citation
LatexCommand citet
key "Campercholi15"

\end_inset


\end_layout

\begin_layout Section
Definibilidad por fórmulas abiertas
\begin_inset CommandInset label
LatexCommand label
name "sec:Definibilidad-abierta"

\end_inset


\end_layout

\begin_layout Theorem
\begin_inset Argument 1
status open

\begin_layout Plain Layout
Los embeddings preservan fórmulas abiertas
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "thm:embeddings preservan abiertas"

\end_inset


\end_layout

\begin_layout Theorem
Sean 
\begin_inset Formula $\mathbf{A}$
\end_inset

, 
\begin_inset Formula $\mathbf{B}$
\end_inset

 estructuras y 
\begin_inset Formula $\fee[\gamma]AB$
\end_inset

 una función.
 Son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\gamma$
\end_inset

 es un embedding de A en B.
\end_layout

\begin_layout Enumerate
Para toda fórmula abierta 
\begin_inset Formula $\deff$
\end_inset

 y para cada 
\begin_inset Formula $\bar{a}$
\end_inset

 de 
\begin_inset Formula $A$
\end_inset

 vale que:
\begin_inset Formula 
\[
\sat{\mathbf{A}}{\varphi}{\bar{a}}\Leftrightarrow\sat{\mathbf{B}}{\varphi}{\gamma(\bar{a})}
\]

\end_inset


\end_layout

\end_deeper
\begin_layout Proof
1
\begin_inset Formula $\Rightarrow$
\end_inset

2)
\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\gamma$
\end_inset

 un embedding de A en B, sea 
\begin_inset Formula $\varphi(x_{1},...,x_{n})$
\end_inset

 una fórmula abierta y 
\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset

, el caso base sale directo ya que los homomorfismos preservan términos.
 Veamos los casos inductivos:
\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\varphi(\bar{x})=\neg\varphi_{1}(\bar{x})$
\end_inset

 con 
\begin_inset Formula $\varphi_{1}\in F_{k}^{\tau}$
\end_inset

: 
\begin_inset Formula 
\[
\mathbf{A}\vDash\neg\varphi_{1}[\bar{a}]\textnormal{ sii }\mathbf{A}\not\vDash\varphi_{1}[\bar{a}]\textnormal{ sii }\mathbf{B}\not\vDash\varphi_{1}[\gamma(\bar{a})]\textnormal{ sii }\mathbf{B}\vDash\neg\varphi_{1}[\gamma(\bar{a})]
\]

\end_inset


\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\varphi(\bar{x})=(\varphi_{1}\eta\varphi_{2})(\bar{x})$
\end_inset

 con 
\begin_inset Formula $\varphi_{1},\varphi_{2}\in F_{k}^{\tau}$
\end_inset

:
\end_layout

\begin_layout Proof
\begin_inset Formula 
\[
\mathbf{A}\vDash(\varphi_{1}\eta\varphi_{2})[\bar{a}]\textnormal{ sii }\mathbf{A}\vDash\varphi_{1}[\bar{a}]"\eta"\mathbf{A}\vDash\varphi_{2}[\bar{a}]\mathbf{\textnormal{ sii }A}\vDash\varphi_{1}[\gamma(\bar{a})]"\eta"\mathbf{B}\vDash\varphi_{2}[\gamma(\bar{a})]\textnormal{ sii }\mathbf{B}\vDash(\varphi_{1}\eta\varphi_{2})[\gamma(\bar{a})]
\]

\end_inset


\end_layout

\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

1)
\end_layout

\begin_layout Proof
Supongamos que para toda fórmula abierta 
\begin_inset Formula $\varphi=\varphi(\bar{x})$
\end_inset

 y cada 
\begin_inset Formula $\bar{a}\in A^{m}$
\end_inset

 vale que:
\begin_inset Formula 
\[
\mathbf{A}\vDash\varphi[\bar{a}]\Leftrightarrow\mathbf{B}\vDash\varphi[\gamma(\bar{a})]
\]

\end_inset

 
\end_layout

\begin_deeper
\begin_layout Itemize
Veamos que 
\begin_inset Formula $\gamma$
\end_inset

 es inyectiva:
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset Formula 
\begin{eqnarray*}
\gamma(a) & = & \gamma(a')\\
\mathbf{B} & \vDash & (x_{1}\equiv x_{2})[\gamma(a),\gamma(a')]\\
\mathbf{A} & \vDash & (x_{1}\equiv x_{2})[a,a']\\
a & = & a'
\end{eqnarray*}

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Veamos que 
\begin_inset Formula $\gamma$
\end_inset

 es un homomorfismo:
\end_layout

\begin_deeper
\begin_layout Standard
Sea 
\begin_inset Formula $c\in\mathcal{C}$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{eqnarray*}
\mathbf{A} & \vDash & (c\equiv x_{1})[c^{\mathbf{A}}]\\
\mathbf{B} & \vDash & (c\equiv x_{1})[\gamma(c^{\mathbf{A}})]\\
c^{\mathbf{B}} & = & \gamma(c^{\mathbf{A}})
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Standard
Sea 
\begin_inset Formula $r\in\mathcal{R}_{n}$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{eqnarray*}
(a_{1},\dots,a_{n}) & \in & r^{\mathbf{A}}\\
\mathbf{A} & \vDash & r(x_{1},\dots,x_{n})[a_{1},\dots,a_{n}]\\
\mathbf{B} & \vDash & r(x_{1},\dots,x_{n})[\gamma(a_{1}),\dots,\gamma(a_{n})]\\
(\gamma(a_{1}),\dots,\gamma(a_{n})) & \in & r^{\mathbf{B}}
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Standard
Sea 
\begin_inset Formula $f\in\mathcal{F}_{n}$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{eqnarray*}
\mathbf{A} & \vDash & (f(x_{1},\dots,x_{n})\equiv x_{n+1})[a_{1},\dots,a_{n},f^{\mathbf{A}}(a_{1},\dots,a_{n})]\\
\mathbf{B} & \vDash & (f(x_{1},\dots,x_{n})\equiv x_{n+1})[\gamma(a_{1}),\dots,\gamma(a_{n}),\gamma(f^{\mathbf{A}}(a_{1},\dots,a_{n}))]\\
f^{\mathbf{B}}(\gamma(a_{1}),\dots,\gamma(a_{n})) & = & \gamma(f^{\mathbf{A}}(a_{1},\dots,a_{n}))
\end{eqnarray*}

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Veamos que 
\begin_inset Formula $\gamma$
\end_inset

 es embedding:
\end_layout

\begin_deeper
\begin_layout Standard
Sea 
\begin_inset Formula $r\in\mathcal{R}_{n}$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{eqnarray*}
(\gamma(a_{1}),\dots,\gamma(a_{n})) & \in & r^{\mathbf{B}}\\
\mathbf{B} & \vDash & r(x_{1},\dots,x_{n})[\gamma(a_{1}),\dots,\gamma(a_{n})]\\
\mathbf{A} & \vDash & r(x_{1},\dots,x_{n})[a_{1},\dots,a_{n}]\\
(a_{1},\dots,a_{n}) & \in & r^{\mathbf{A}}
\end{eqnarray*}

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:abiertas valen en subestructuras y viceversa"

\end_inset


\end_layout

\begin_layout Theorem
Si 
\begin_inset Formula $\mathbf{A}$
\end_inset

 es una subestructura de 
\begin_inset Formula $\mathbf{B}$
\end_inset

 y 
\begin_inset Formula $\deff$
\end_inset

 es una fórmula abierta, entonces para cada 
\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset

 vale que
\begin_inset Formula 
\[
\sat{\mathbf{A}}{\varphi}{\bar{a}}\Leftrightarrow\sat{\mathbf{B}}{\varphi}{\bar{a}}
\]

\end_inset


\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\mathbf{A}$
\end_inset

 una subestructura de 
\begin_inset Formula $\mathbf{B}$
\end_inset

 y 
\begin_inset Formula $\deff$
\end_inset

 una fórmula abierta.
\end_layout

\begin_layout Proof
Como 
\begin_inset Formula $\mathbf{A}$
\end_inset

 es subestructura es cerrada sobre 
\begin_inset Formula $r$
\end_inset

,
\begin_inset Formula $f$
\end_inset

 y 
\begin_inset Formula $c^{\mathbf{B}}\in A$
\end_inset


\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\fee AB$
\end_inset

 tal que para todo 
\begin_inset Formula $x\in A$
\end_inset

, 
\begin_inset Formula $\gamma(x)=x$
\end_inset

.
 Como 
\begin_inset Formula $\mathbf{A}\leq\mathbf{B}$
\end_inset

, es directo que 
\begin_inset Formula $\gamma$
\end_inset

 es un embedding.
 Entonces por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:embeddings preservan abiertas"

\end_inset

, 
\begin_inset Formula $\sat{\mathbf{A}}{\varphi}{\bar{a}}\Leftrightarrow\sat{\mathbf{B}}{\varphi}{\gamma(\bar{a})}$
\end_inset

 
\end_layout

\begin_layout Proof
Finalmente, por definición de 
\begin_inset Formula $\gamma$
\end_inset

:
\end_layout

\begin_layout Proof
\begin_inset Formula 
\[
\sat{\mathbf{A}}{\varphi}{\bar{a}}\Leftrightarrow\sat{\mathbf{B}}{\varphi}{\bar{a}}
\]

\end_inset


\end_layout

\begin_layout Notation
Dado un conjunto de fórmulas 
\begin_inset Formula $\Delta$
\end_inset

, escribiremos 
\begin_inset Formula $\Delta\left(\bar{x}\right)$
\end_inset

 para anunciar que cada una de las fórmulas en 
\begin_inset Formula $\Delta$
\end_inset

 tiene sus variables libres contenidas en la tupla 
\begin_inset Formula $\bar{x}$
\end_inset

, y que consideramos cada 
\begin_inset Formula $\delta\in\Delta(\bar{x})$
\end_inset

 declarada 
\begin_inset Formula $\delta=\delta\left(\bar{x}\right)$
\end_inset

.
 Si 
\begin_inset Formula $\mathbf{A}$
\end_inset

 es una estructura y 
\begin_inset Formula $\bar{a}$
\end_inset

 es una tupla de elementos de 
\begin_inset Formula $A$
\end_inset

, escribiremos 
\begin_inset Formula $\mathbf{A}\vDash\Delta\left[\bar{a}\right]$
\end_inset

 cuando 
\begin_inset Formula $\mathbf{A}\vDash\delta\left[\bar{a}\right]$
\end_inset

 para cada 
\begin_inset Formula $\delta\in\Delta(\bar{x})$
\end_inset

.
\end_layout

\begin_layout Definition
Sea 
\series bold

\begin_inset Formula $\mathbf{A}$
\end_inset


\series default
 una estructura y sean 
\begin_inset Formula $a_{1},\ldots,a_{n}\in A$
\end_inset

.
 Definimos el diagrama abierto para 
\begin_inset Formula $\enumeracion[n][a]$
\end_inset

 en 
\begin_inset Formula $\mathbf{A}$
\end_inset

 como: 
\begin_inset Formula 
\[
\Delta_{\mathbf{A},\bar{a}}\left(x_{1},\ldots,x_{n}\right):=\{\alpha\mid\alpha\mbox{ es abierta y }\mathbf{A}\vDash\alpha\left[\bar{a}\right]\}
\]

\end_inset


\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:diagrama sii isomorfismo"

\end_inset


\end_layout

\begin_layout Theorem
Sea 
\begin_inset Formula $\mathbf{A}$
\end_inset

 una estructura y 
\begin_inset Formula $b_{1},\dots,b_{n}\in B$
\end_inset

, son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\sat{\mathbf{B}}{\Delta_{\mathbf{A}\bar{a}}}{\bar{b}}$
\end_inset


\end_layout

\begin_layout Enumerate
Hay un isomorfismo 
\begin_inset Formula $\gamma$
\end_inset

 de 
\begin_inset Formula $\subuniv aA$
\end_inset

 en 
\begin_inset Formula $\subuniv bB$
\end_inset

 tal que 
\begin_inset Formula $\gamma(\bar{a})=\bar{b}$
\end_inset


\end_layout

\end_deeper
\begin_layout Proof
\noindent
Veamos 1
\begin_inset Formula $\Rightarrow$
\end_inset

2:
\end_layout

\begin_layout Proof
Supongamos que 
\begin_inset Formula $\sat{\mathbf{B}}{\Delta_{\mathbf{A}\bar{a}}}{\bar{b}}$
\end_inset


\end_layout

\begin_layout Proof
Si 
\begin_inset Formula $\alpha$
\end_inset

 fórmula abierta y 
\begin_inset Formula $\sat{\mathbf{A}}{\alpha}{\bar{a}}$
\end_inset

 entonces 
\begin_inset Formula $\sat{\mathbf{B}}{\text{\alpha}}{\bar{b}}$
\end_inset


\end_layout

\begin_layout Proof
Tomo 
\begin_inset Formula $\subuniv aA=\{t^{\mathbf{A}}[a_{1},\dots,a_{n}]:t\in T^{\tau},a_{1},\dots,a_{n}\in\bar{a}\}$
\end_inset

 y 
\begin_inset Formula $\subuniv bA=\{t^{\mathbf{A}}[b_{1},\dots,b_{n}]:t\in T^{\tau},b_{1},\dots,b_{n}\in\bar{b}\}$
\end_inset


\end_layout

\begin_layout Proof
Defino 
\begin_inset Formula 
\begin{eqnarray*}
 & \gamma & :A'\rightarrow B'\\
 & \gamma & (t^{\mathbf{A}}[a_{1},\dots,a_{n}])=t^{\mathbf{B}}[\enumeracion[n][b]]
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Proof
Es claro que 
\begin_inset Formula $\gamma$
\end_inset

 es un homomorfismo.
\end_layout

\begin_deeper
\begin_layout Itemize
Veamos que 
\begin_inset Formula $\gamma$
\end_inset

 es inyectivo
\end_layout

\begin_deeper
\begin_layout Standard
Sean 
\begin_inset Formula $a'_{1},a'_{2}\in A'$
\end_inset

 tales que 
\begin_inset Formula $a'_{1}\not=a'_{2}$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{eqnarray}
a'_{1} & \not= & a'_{2}\nonumber \\
t_{1}^{\mathbf{A}}\left[\bar{a}\right] & \not= & t_{2}^{\mathbf{A}}\left[\bar{a}\right]\nonumber \\
\mathbf{A} & \vDash & \neg(t_{1}\equiv t_{2})\left[\bar{a}\right]\\
\mathbf{B} & \vDash & \neg(t_{1}\equiv t_{2})\left[\bar{b}\right]\\
t_{1}^{\mathbf{B}}\left[\bar{b}\right] & \not= & t_{2}^{\mathbf{B}}\left[\bar{b}\right]\nonumber \\
\gamma\left(t_{1}^{\mathbf{A}}\left[\bar{a}\right]\right) & \not= & \gamma\left(t_{2}^{\mathbf{A}}\left[\bar{a}\right]\right)\nonumber 
\end{eqnarray}

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Veamos que 
\begin_inset Formula $\gamma$
\end_inset

 es sobreyectivo
\end_layout

\begin_deeper
\begin_layout Standard
Sea 
\begin_inset Formula $b'\in B'$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{eqnarray*}
b' & \in & B'\\
t^{\mathbf{B}}\left[\bar{b}\right] & \in & B'
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Standard
Tomo 
\begin_inset Formula $t^{\mathbf{A}}\left[\bar{a}\right]=a'$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{eqnarray*}
\gamma\left(t^{\mathbf{A}}\left[\bar{a}\right]\right) & = & t^{\mathbf{B}}\left[\bar{b}\right]
\end{eqnarray*}

\end_inset


\end_layout

\end_deeper
\end_deeper
\begin_layout Proof
Por lo tanto 
\begin_inset Formula $\gamma$
\end_inset

 es un isomorfismo y 
\begin_inset Formula $\gamma(a_{j})=\gamma(x_{j}^{\mathbf{A}}[\enumeracion[n][a]])=x_{j}^{\mathbf{B}}[\enumeracion[n][b]]=b_{j}$
\end_inset

.
\end_layout

\begin_layout Proof
\noindent
Ahora veamos 2
\begin_inset Formula $\Rightarrow$
\end_inset

1:
\end_layout

\begin_layout Proof
Supongamos que hay un isomorfismo 
\begin_inset Formula $\gamma$
\end_inset

 de 
\begin_inset Formula $\subuniv aA$
\end_inset

 en 
\begin_inset Formula $\subuniv bB$
\end_inset

 tal que 
\begin_inset Formula $\gamma(\bar{a})=\bar{b}$
\end_inset


\end_layout

\begin_layout Proof
Entonces, es claro que 
\begin_inset Formula $\gamma$
\end_inset

 es un embedding de 
\begin_inset Formula $\subuniv aA$
\end_inset

 en 
\begin_inset Formula $\subuniv bB$
\end_inset

.
\end_layout

\begin_layout Proof
Por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:embeddings preservan abiertas"

\end_inset

 para toda fórmula abierta 
\begin_inset Formula $\deff$
\end_inset

 y cada 
\begin_inset Formula $\bar{a}\in A'$
\end_inset


\end_layout

\begin_layout Proof
\begin_inset Formula 
\[
\subuniv aA\vDash\varphi[\bar{a}]\Leftrightarrow\subuniv bB\vDash\varphi[\gamma(\bar{a})]
\]

\end_inset


\end_layout

\begin_layout Proof
Por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:abiertas valen en subestructuras y viceversa"

\end_inset

 como 
\begin_inset Formula $\subuniv aA$
\end_inset

 es subestructura de 
\begin_inset Formula $\mathbf{A}$
\end_inset

, 
\begin_inset Formula $\subuniv bB$
\end_inset

 lo es de 
\begin_inset Formula $\mathbf{B}$
\end_inset

 y 
\begin_inset Formula $\varphi$
\end_inset

 es abierta
\end_layout

\begin_layout Proof
\begin_inset Formula 
\[
\sat{\mathbf{A}}{\varphi}{\bar{a}}\Leftrightarrow\sat{\mathbf{B}}{\varphi}{\gamma(\bar{a})}
\]

\end_inset


\end_layout

\begin_layout Proof
\begin_inset Formula 
\[
\sat{\mathbf{A}}{\varphi}{\bar{a}}\Leftrightarrow\sat{\mathbf{B}}{\varphi}{\bar{b}}
\]

\end_inset


\end_layout

\begin_layout Proof
Por lo tanto si 
\begin_inset Formula $\alpha$
\end_inset

 es abierta y 
\begin_inset Formula $\sat{\mathbf{A}}{\alpha}{\bar{a}}$
\end_inset

 entonces 
\begin_inset Formula $\sat{\mathbf{B}}{\alpha}{\bar{b}}$
\end_inset


\end_layout

\begin_layout Proof
Finalmente, 
\begin_inset Formula $\sat{\mathbf{B}}{\Delta_{\mathbf{A}\bar{a}}}{\bar{b}}$
\end_inset


\end_layout

\begin_layout Definition
\begin_inset CommandInset label
LatexCommand label
name "def:equiv-formulas"

\end_inset

Dos fórmulas 
\begin_inset Formula $\alpha\left(\bar{x}\right)$
\end_inset

 y 
\begin_inset Formula $\beta\left(\bar{x}\right)$
\end_inset

 se dicen 
\emph on
equivalentes
\emph default
 sobre una familia de estructuras 
\begin_inset Formula $\mathcal{K}$
\end_inset

 si para cada 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

 y cada 
\begin_inset Formula $\bar{a}$
\end_inset

 de A vale que 
\begin_inset Formula 
\[
\mathbf{A}\vDash\alpha\left[\bar{a}\right]\Longleftrightarrow\mathbf{A}\vDash\beta\left[\bar{a}\right].
\]

\end_inset


\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:cantidad de formulas es finita"

\end_inset


\begin_inset Argument 1
status open

\begin_layout Plain Layout
Modulo equivalencia sobre una estructura finita, la cantidad de fórmulas
 en 
\begin_inset Formula $\enumeracion$
\end_inset

 es finita
\end_layout

\end_inset


\end_layout

\begin_layout Theorem
Sea 
\begin_inset Formula $\mathcal{K}$
\end_inset

 una clase finita de estructuras finitas, y sean 
\begin_inset Formula $\enumeracion$
\end_inset

 variables.
\end_layout

\begin_layout Theorem
Hay un conjunto finito de fórmulas 
\begin_inset Formula $\Sigma\left(\overline{x}\right)$
\end_inset

 tal que para toda fórmula 
\begin_inset Formula $\deff[\varphi][\overline{x}]$
\end_inset

 hay 
\begin_inset Formula $\sigma\left(\overline{x}\right)\in\Sigma\left(\overline{x}\right)$
\end_inset

 tal que 
\begin_inset Formula $\varphi(\bar{x})$
\end_inset

 y 
\begin_inset Formula $\sigma\left(\overline{x}\right)$
\end_inset

 son equivalentes sobre 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\mathcal{K}=\left\{ \enumeracion[m][\mathbf{A}]\right\} $
\end_inset

.
 Veamos primero que las fórmulas son finitas modulo equivalencia.
 Sea 
\begin_inset Formula $\deff$
\end_inset

 defino 
\begin_inset Formula $T_{\varphi\mathcal{K}}=\left\{ \bar{a}\in A_{1}^{n}|\sat{\mathbf{A}_{1}}{\varphi}{\bar{a}}\right\} \times\cdots\times\left\{ \bar{a}\in A_{m}^{n}|\sat{\mathbf{A}_{m}}{\varphi}{\bar{a}}\right\} $
\end_inset

 y supongamos 
\begin_inset Formula $\varphi$
\end_inset

 equivalente 
\begin_inset Formula $\psi$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, entonces
\end_layout

\begin_layout Proof
\begin_inset Formula 
\[
\left(\enumeracion[m][\bar{a}]\right)\in T_{\varphi\mathcal{K}}\Leftrightarrow\left(\enumeracion[m][\bar{a}]\right)\in T_{\psi\mathcal{K}}\textnormal{ para cada }\left(\enumeracion[m][\bar{a}]\right)\in A_{1}^{n}\times\cdots\times A_{m}^{n}
\]

\end_inset

lo que significa que 
\begin_inset Formula $T_{\varphi\mathcal{K}}=T_{\psi\mathcal{K}}$
\end_inset

.
 Entonces basta con contar los subconjuntos de 
\begin_inset Formula $A_{1}^{n}\times\cdots\times A_{m}^{n}$
\end_inset

, como 
\begin_inset Formula $\left|A_{1}^{n}\times\cdots\times A_{m}^{n}\right|=\left|A_{1}\right|^{n}.\cdots.\left|A_{m}\right|^{n}$
\end_inset

 y cada 
\begin_inset Formula $A_{i}$
\end_inset

 era finito, es claro que 
\begin_inset Formula $A_{1}^{n}\times\cdots\times A_{m}^{n}$
\end_inset

 es finito.
 Por lo tanto 
\begin_inset Formula $\mathcal{P}(A^{n})$
\end_inset

 también lo es.
\end_layout

\begin_layout Proof
Ahora veamos que existe 
\begin_inset Formula $\Sigma(\bar{x})$
\end_inset

.
 Sean 
\begin_inset Formula $\enumeracion[k][T]\subseteq A_{1}^{n}\times\cdots\times A_{m}^{n}$
\end_inset

 tales que existe 
\begin_inset Formula $\varphi_{i}(\bar{x})$
\end_inset

 tal que para cada 
\begin_inset Formula $\mathbf{A\in\mathcal{K}}$
\end_inset

, 
\begin_inset Formula $\sat{\mathbf{A}}{\varphi_{i}}{T_{i}}$
\end_inset

 y sea 
\begin_inset Formula $\deff[\psi][\bar{x}]$
\end_inset

, tomo 
\begin_inset Formula $T_{\psi\mathcal{K}}$
\end_inset

y como 
\begin_inset Formula $\enumeracion[k][T]$
\end_inset

 es la sucesión de todos los subconjuntos que se definen con una fórmula,
 hay un 
\begin_inset Formula $j$
\end_inset

 tal que 
\begin_inset Formula $T_{j}=T_{\psi\mathcal{K}}$
\end_inset

.
 Entonces, para cada 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

, 
\begin_inset Formula $\sat{\mathbf{A}}{\psi}{\bar{a}}\Leftrightarrow\sat{\mathbf{A}}{\varphi_{j}}{\bar{a}}$
\end_inset

.
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:formula para el diagrama"

\end_inset


\end_layout

\begin_layout Theorem
Sean 
\begin_inset Formula $\mathbf{A,B}$
\end_inset

 estructuras finitas y 
\begin_inset Formula $\enumeracion[][a]\in A$
\end_inset

, entonces existe una fórmula abierta 
\begin_inset Formula $\deff$
\end_inset

 tal que para todo 
\begin_inset Formula $\bar{b}\in B^{n}$
\end_inset

 son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset


\end_layout

\begin_layout Enumerate
Hay un isomorfismo 
\begin_inset Formula $\gamma$
\end_inset

 de 
\begin_inset Formula $\subuniv aA$
\end_inset

 en 
\begin_inset Formula $\subuniv bB$
\end_inset

 tal que 
\begin_inset Formula $\gamma(\bar{a})=\bar{b}$
\end_inset


\end_layout

\end_deeper
\begin_layout Proof
Tomo 
\begin_inset Formula $\varphi=\bigwedge_{\alpha\in\Delta_{\mathbf{A}\bar{a}}}\alpha\left(\bar{x}\right)$
\end_inset

 que es una fórmula, por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:cantidad de formulas es finita"

\end_inset

.
\end_layout

\begin_layout Proof
Es claro que 
\begin_inset Formula $\sat{\mathbf{B}}{\bigwedge_{\alpha\in\Delta_{\mathbf{A}\bar{a}}}\alpha\left(\bar{x}\right)}{\bar{b}}\Leftrightarrow\sat{\mathbf{B}}{\Delta_{\mathbf{A}\bar{a}}}{\bar{b}}$
\end_inset


\end_layout

\begin_layout Proof
Entonces por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:diagrama sii isomorfismo"

\end_inset

, hay un isomorfismo 
\begin_inset Formula $\gamma$
\end_inset

 de 
\begin_inset Formula $\subuniv aA$
\end_inset

 en 
\begin_inset Formula $\subuniv bB$
\end_inset

 tal que 
\begin_inset Formula $\gamma(\bar{a})=\bar{b}$
\end_inset


\end_layout

\begin_layout Definition
Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden y 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 un símbolo de relación n-ario.
 Diremos que 
\begin_inset Formula $R$
\end_inset

 es 
\emph on
definible
\emph default
 en una familia 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras cuando exista una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula 
\begin_inset Formula $\deff[][\enumeracion]$
\end_inset

 tal que para todo 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

 y todas 
\begin_inset Formula $\enumeracion[][a]\in A$
\end_inset


\begin_inset Formula 
\[
\left(\enumeracion[][a]\right)\in R^{\mathbf{A}}\iff\varphi\left(\enumeracion[][a]\right)
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Note Comment
status open

\begin_layout Plain Layout
Definiciones, lemas semánticos dos lenguajes
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Si 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 son lenguajes de primer orden, para una 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructura 
\begin_inset Formula $\boldsymbol{A}$
\end_inset

, usaremos 
\begin_inset Formula $\boldsymbol{A}_{\mathcal{L}}$
\end_inset

 para indicar el reducto de 
\begin_inset Formula $\boldsymbol{A}$
\end_inset

 al lenguaje 
\begin_inset Formula $\mathcal{L}$
\end_inset

.
 Si 
\begin_inset Formula $\boldsymbol{A},\boldsymbol{B}$
\end_inset

 son 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructuras, usaremos 
\begin_inset Formula $\boldsymbol{A}\leq\boldsymbol{B}$
\end_inset

 para expresar que 
\begin_inset Formula $\boldsymbol{A}$
\end_inset

 es subestructura de 
\begin_inset Formula $\boldsymbol{B}$
\end_inset

.
 
\end_layout

\begin_layout Standard
Sean:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
Fo(\mathcal{L})=\{\varphi:\varphi\textnormal{ es una \textnormal{\ensuremath{\mathcal{L}}-fórmula}}\}
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
E(\mathcal{L})=\{\varphi:\varphi\textnormal{ es una \textnormal{\ensuremath{\mathcal{L}}-fórmula existencial}}\}
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
E^{+}(\mathcal{L})=\{\varphi:\varphi\textnormal{ es una \textnormal{\ensuremath{\mathcal{L}}-fórmula existencial positiva}}\}
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
Op(\mathcal{L})=\{\varphi:\varphi\textnormal{ es una \textnormal{\ensuremath{\mathcal{L}}-fórmula abierta}}\}
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
Op^{+}(\mathcal{L})=\{\varphi:\varphi\textnormal{ es una \textnormal{\ensuremath{\mathcal{L}}-fórmula abierta positiva}}\}
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
\pm At(\mathcal{L})=At(\mathcal{L})\cup\{\neg\alpha:\alpha\in At(\mathcal{L})\}
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
At(\mathcal{L})=\{\textnormal{\ensuremath{\mathcal{L}}-fórmulas atómicas}\}
\]

\end_inset


\end_layout

\begin_layout Definition
Dados 
\begin_inset Formula $A,B$
\end_inset

 conjuntos, 
\begin_inset Formula $R^{A}\subseteq A^{n}$
\end_inset

, 
\begin_inset Formula $R^{B}\subseteq B^{n}$
\end_inset

, diremos que una función 
\begin_inset Formula $\funcion AB$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

 si para toda tupla 
\begin_inset Formula $\left(a_{1},\ldots,a_{n}\right)\in A_{0}$
\end_inset

 tenemos que si 
\begin_inset Formula $\left(a_{1},\ldots,a_{n}\right)\in R^{A}$
\end_inset

 implica que 
\begin_inset Formula $(\sigma(a_{1}),\ldots,\sigma(a_{n}))\in R^{A}$
\end_inset

.
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:definibilidad abierta"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden, sea 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 un símbolo de relación n-ario.
 Para una clase finita 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras, los siguientes son equivalentes:
\end_layout

\begin_layout Enumerate
Hay una fórmula en Op(
\begin_inset Formula $\mathcal{L}$
\end_inset

) que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Para todas 
\begin_inset Formula $\boldsymbol{A},\boldsymbol{B}\in\mathcal{K}$
\end_inset

, todas 
\begin_inset Formula $\boldsymbol{A}_{0}\leq\boldsymbol{A}_{\mathcal{L}}$
\end_inset

,
\begin_inset Formula $\boldsymbol{B}_{0}\leq\boldsymbol{B}_{\mathcal{L}}$
\end_inset

, todo isomorfismo 
\begin_inset Formula $\sigma:\boldsymbol{A}_{0}\rightarrow\boldsymbol{B}_{0}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

.
\end_layout

\begin_layout Proof
1
\begin_inset Formula $\Rightarrow$
\end_inset

2) Sea 
\begin_inset Formula $\varphi\left(\bar{x}\right)$
\end_inset

 la fórmula que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, sean 
\begin_inset Formula $\mathbf{A,B}\in\mathcal{K}$
\end_inset

 y sean 
\begin_inset Formula $\mathbf{A}_{0}\leq\mathbf{A_{\mathcal{L}}}$
\end_inset

 y 
\begin_inset Formula $\mathbf{B}_{0}\leq\mathbf{B_{\mathcal{L}}}$
\end_inset

 tales que 
\begin_inset Formula $\funcion[\sigma]{\mathbf{A}_{0}}{\mathbf{B}_{0}}$
\end_inset

 sea un isomorfismo.
 Sea 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}_{0}}\cap A_{0}$
\end_inset

 veamos que 
\begin_inset Formula $\sigma\left(\bar{a}\right)\in R^{\mathbf{B}_{0}}$
\end_inset

.
 Como 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}_{0}}\Rightarrow\bar{a}\in R^{\mathbf{A}}\Leftrightarrow\sat{\mathbf{A}}{\varphi}{\bar{a}}$
\end_inset

, por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:abiertas valen en subestructuras y viceversa"

\end_inset

, 
\begin_inset Formula $\sat{A_{0}}{\varphi}{\bar{a}}$
\end_inset

 y como 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 y 
\begin_inset Formula $\mathbf{B}_{0}$
\end_inset

 son isomorfos por 
\begin_inset Formula $\sigma$
\end_inset

, 
\begin_inset Formula $\sat{\mathbf{B}_{0}}{\varphi}{\sigma\left(\bar{a}\right)}$
\end_inset

.
 Nuevamente por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:abiertas valen en subestructuras y viceversa"

\end_inset

 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\sigma\left(\bar{a}\right)}$
\end_inset

 y como por hipótesis 
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, 
\begin_inset Formula $\sigma\left(\bar{a}\right)\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

1) Sea 
\begin_inset Formula $\varphi=\bigvee_{\mathbf{A}\in\mathcal{K}}\left(\bigvee_{\bar{a}\in R^{\mathbf{A}}}\left(\bigwedge_{\alpha\in\Delta_{\mathbf{A}\bar{a}}}\alpha\left(\bar{x}\right)\right)\right)$
\end_inset

, la cual es fórmula por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:cantidad de formulas es finita"

\end_inset

.
 Veamos que para cada 
\begin_inset Formula $\mathbf{B}\in\mathcal{K}$
\end_inset

, 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

 sii 
\begin_inset Formula $\bar{b}\in R^{\mathbf{B}}$
\end_inset

.
 Sea 
\begin_inset Formula $\mathbf{B}\in\mathcal{K}$
\end_inset

:
\end_layout

\begin_layout Proof
\begin_inset Formula $\Rightarrow$
\end_inset

) Supongamos 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

, entonces en particular para algún 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

 y 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

, 
\begin_inset Formula $\sat{\mathbf{B}}{\bigwedge_{\alpha\in\Delta_{\mathbf{A}\bar{a}}}\alpha\left(\bar{x}\right)}{\bar{b}}$
\end_inset

.
 Por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:formula para el diagrama"

\end_inset

, hay un isomorfismo 
\begin_inset Formula $\funcion[\gamma]{\subuniv aA}{\subuniv bB}$
\end_inset

 tal que 
\begin_inset Formula $\gamma\left(\bar{a}\right)=\bar{b}$
\end_inset

.
 Entonces por hipótesis 
\begin_inset Formula $\gamma$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

.
 Finalmente como 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

, entonces 
\begin_inset Formula $\gamma\left(\bar{a}\right)\in R^{\mathbf{B}}$
\end_inset

 o sea que 
\begin_inset Formula $\bar{b}\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $\Leftarrow$
\end_inset

) Supongamos 
\begin_inset Formula $\bar{b}\in R^{\mathbf{B}}$
\end_inset

.
 Entonces 
\begin_inset Formula $\varphi=\bigvee_{\mathbf{A}\in\mathcal{K}}\left(\bigvee_{\bar{a}\in R^{\mathbf{A}}}\left(\bigwedge_{\alpha\in\Delta_{\mathbf{A}\bar{a}}}\alpha\left(\bar{x}\right)\right)\right)=\cdots\vee\cdots\vee\left(\bigwedge_{\alpha\in\Delta_{\mathbf{B}\bar{b}}}\alpha\left(\bar{x}\right)\right)$
\end_inset

, evidentemente 
\begin_inset Formula $\sat{\mathbf{B}}{\Delta_{\mathbf{B}\bar{b}}}{\bar{b}}$
\end_inset

, entonces 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

.
\end_layout

\begin_layout Section
Definibilidad por fórmulas abiertas positivas y conjunción de atómicas
\begin_inset CommandInset label
LatexCommand label
name "sec:Definibilidad-positiva y por conjuncion de atomicas"

\end_inset


\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:homomorfismos preservan atomicas y abiertas positivas"

\end_inset

Sean 
\begin_inset Formula $\mathbf{A},\mathbf{B}$
\end_inset

 estructuras y 
\begin_inset Formula $h:A\rightarrow B$
\end_inset

 una función, son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $h$
\end_inset

 es un homomorfismo de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 en 
\begin_inset Formula $\mathbf{B}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Para toda fórmula atómica 
\begin_inset Formula $\varphi=\varphi\left(\bar{x}\right)$
\end_inset

 y para cada 
\begin_inset Formula $\bar{a}$
\end_inset

 de 
\begin_inset Formula $A$
\end_inset

 vale que 
\begin_inset Formula 
\[
\mathbf{A}\vDash\varphi\left[\bar{a}\right]\Longrightarrow\mathbf{B}\vDash\varphi\left[h\left(\bar{a}\right)\right].
\]

\end_inset


\end_layout

\begin_layout Enumerate
Para toda fórmula abierta positiva
\begin_inset Foot
status open

\begin_layout Plain Layout
Una fórmulas es positiva si no tiene ocurrencias de 
\begin_inset Formula $\neg$
\end_inset

, 
\begin_inset Formula $\rightarrow$
\end_inset

, 
\begin_inset Formula $\leftrightarrow$
\end_inset

.
\end_layout

\end_inset

 
\begin_inset Formula $\varphi=\varphi\left(\bar{x}\right)$
\end_inset

 y para cada 
\begin_inset Formula $\bar{a}$
\end_inset

 de 
\begin_inset Formula $A$
\end_inset

 vale que 
\begin_inset Formula 
\[
\mathbf{A}\vDash\varphi\left[\bar{a}\right]\Longrightarrow\mathbf{B}\vDash\varphi\left[h\left(\bar{a}\right)\right].
\]

\end_inset


\end_layout

\end_deeper
\begin_layout Proof
1
\begin_inset Formula $\Rightarrow$
\end_inset

2) Directo, ya que los homomorfismos preservan términos.
\end_layout

\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

1) Supongamos 
\begin_inset Formula $\sat{\mathbf{A}}{\varphi}{\bar{a}}\Rightarrow\text{\sat{\mathbf{B}}{\varphi}{h\left(\bar{a}\right)}}$
\end_inset

 con 
\begin_inset Formula $\varphi$
\end_inset

 atómica.
 Veamos que 
\begin_inset Formula $h$
\end_inset

 es homomorfismo.
\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $c\in\mathcal{C}$
\end_inset

 
\begin_inset Formula 
\[
\sat{\mathbf{A}}{\left(c\equiv x_{1}\right)}{c^{\mathbf{A}}}\Rightarrow\sat{\mathbf{B}}{\left(c\equiv x_{1}\right)}{h\left(c^{\mathbf{A}}\right)}\Leftrightarrow c^{\mathbf{B}}=h\left(c^{\mathbf{A}}\right)
\]

\end_inset


\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $f\in\mathcal{F}_{n}$
\end_inset


\begin_inset Formula 
\begin{eqnarray*}
\mathbf{A} & \vDash & \left(f\left(\enumeracion[][x]\right)\equiv x_{n+1}\right)\left[\enumeracion[][a],f^{\mathbf{A}}\left(\bar{a}\right)\right]\\
\mathbf{B} & \vDash & \left(f\left(\enumeracion[][x]\right)\equiv x_{n+1}\right)\left[h\left(a_{1}\right),\dots,h\left(\bar{a}_{n}\right),h\left(f^{\mathbf{A}}\left(\bar{a}\right)\right)\right]\\
f^{\mathbf{B}}\left(h\left(\bar{a}\right)\right) & = & h\left(f^{\mathbf{A}}\left(\bar{a}\right)\right)
\end{eqnarray*}

\end_inset


\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $r\in\mathcal{R}_{n}$
\end_inset


\begin_inset Formula 
\[
\bar{a}\in r^{\mathbf{A}}\Rightarrow\sat{\mathbf{A}}{r\left(\bar{x}\right)}{\bar{a}}\Rightarrow\sat{\mathbf{B}}{r\left(\bar{x}\right)}{h\left(\bar{a}\right)}\Rightarrow h\left(\bar{a}\right)\in r^{\mathbf{B}}
\]

\end_inset


\end_layout

\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

3) Rutina.
\end_layout

\begin_layout Proof
3
\begin_inset Formula $\Rightarrow$
\end_inset

2) Directo ya que toda atómica es abierta positiva.
\end_layout

\begin_layout Definition
Sea 
\series bold

\begin_inset Formula $\mathbf{A}$
\end_inset


\series default
 una estructura y sean 
\begin_inset Formula $a_{1},\ldots,a_{n}\in A$
\end_inset

.
 Definimos el diagrama atómico positivo de 
\begin_inset Formula $\bar{a}$
\end_inset

 en 
\begin_inset Formula $\mathbf{A}$
\end_inset

 como 
\begin_inset Formula 
\[
\Delta_{\mathbf{A},\bar{a}}^{+}\left(x_{1},\ldots,x_{n}\right):=\{\alpha\mid\alpha\mbox{ es atómica y }\mathbf{A}\vDash\alpha\left[\bar{a}\right]\}.
\]

\end_inset


\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:diagrama atomico positivo sii homomorfismo"

\end_inset

Sean 
\series bold

\begin_inset Formula $\mathbf{B}$
\end_inset


\series default
 una estructura y 
\begin_inset Formula $b_{1},\ldots,b_{n}\in B$
\end_inset

, son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\mathbf{B}\vDash\Delta_{\mathbf{A},\bar{a}}^{+}\left[\bar{b}\right]$
\end_inset

.
\end_layout

\begin_layout Enumerate
Hay un homomorfismo 
\begin_inset Formula $h$
\end_inset

 de 
\begin_inset Formula $\left\langle \bar{a}\right\rangle ^{\mathbf{A}}$
\end_inset

 en 
\begin_inset Formula $\left\langle \bar{b}\right\rangle ^{\mathbf{B}}$
\end_inset

 tal que 
\begin_inset Formula $h\left(\bar{a}\right)=\bar{b}$
\end_inset

.
 
\end_layout

\end_deeper
\begin_layout Proof
1
\begin_inset Formula $\Rightarrow$
\end_inset

2) Defino 
\begin_inset Formula $\funcion[h]{\subuniv aA}{\subuniv bB}$
\end_inset

, como 
\begin_inset Formula 
\[
h\left(t^{\mathbf{A}}\left[\bar{a}\right]\right)=t^{\mathbf{B}}\left[\bar{b}\right]
\]

\end_inset


\end_layout

\begin_layout Proof
El cual es se ve fácilmente que es un homomorfismo que cumple 
\begin_inset Formula $h\left(\bar{a}\right)=\bar{b}$
\end_inset

.
\end_layout

\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

1) Supongamos que hay un homomorfismo 
\begin_inset Formula $h$
\end_inset

 de 
\begin_inset Formula $\left\langle \bar{a}\right\rangle ^{\mathbf{A}}$
\end_inset

 en 
\begin_inset Formula $\left\langle \bar{b}\right\rangle ^{\mathbf{B}}$
\end_inset

 tal que 
\begin_inset Formula $h\left(\bar{a}\right)=\bar{b}$
\end_inset

, entonces como 
\begin_inset Formula $\mathbf{A}\vDash\Delta_{\mathbf{A},\bar{a}}^{+}\left[\bar{a}\right]$
\end_inset

, por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:homomorfismos preservan atomicas y abiertas positivas"

\end_inset

 
\begin_inset Formula $\mathbf{B}\vDash\Delta_{\mathbf{A},\bar{a}}^{+}\left[h\left(\bar{a}\right)\right]$
\end_inset

, entonces 
\begin_inset Formula $\mathbf{B}\vDash\Delta_{\mathbf{A},\bar{a}}^{+}\left[\bar{b}\right]$
\end_inset


\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:formula para diagrama abierto positivo"

\end_inset


\end_layout

\begin_layout Theorem
Sean 
\begin_inset Formula $\mathbf{A,B}$
\end_inset

 estructuras finitas y 
\begin_inset Formula $\enumeracion[][a]an\in A$
\end_inset

, entonces existe una fórmula abierta 
\begin_inset Formula $\deff$
\end_inset

 tal que para todo 
\begin_inset Formula $\bar{b}\in B^{n}$
\end_inset

 son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset


\end_layout

\begin_layout Enumerate
Hay un homomorfismo 
\begin_inset Formula $h$
\end_inset

 de 
\begin_inset Formula $\subuniv aA$
\end_inset

 en 
\begin_inset Formula $\subuniv bB$
\end_inset

 tal que 
\begin_inset Formula $h(\bar{a})=\bar{b}$
\end_inset


\end_layout

\end_deeper
\begin_layout Proof
Tomo 
\begin_inset Formula $\varphi=\bigwedge_{\alpha\in\Delta_{\mathbf{A}\bar{a}}^{+}}\alpha\left(\bar{x}\right)$
\end_inset

 que es una fórmula, por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:cantidad de formulas es finita"

\end_inset

.
\end_layout

\begin_layout Proof
Es claro que 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}\Leftrightarrow\sat{\mathbf{B}}{\Delta_{\mathbf{A}\bar{a}}^{+}}{\bar{b}}$
\end_inset


\end_layout

\begin_layout Proof
Entonces por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:diagrama atomico positivo sii homomorfismo"

\end_inset

, hay un homomorfismo 
\begin_inset Formula $h$
\end_inset

 de 
\begin_inset Formula $\subuniv aA$
\end_inset

 en 
\begin_inset Formula $\subuniv bB$
\end_inset

 tal que 
\begin_inset Formula $h(\bar{a})=\bar{b}$
\end_inset


\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:definibilidad abierta positiva"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden, sea 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 un símbolo de relación n-ario.
 Para una clase finita 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras, los siguientes son equivalentes:
\end_layout

\begin_layout Enumerate
Hay una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula abierta positiva que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Para todas 
\begin_inset Formula $\boldsymbol{A},\boldsymbol{B}\in\mathcal{K}$
\end_inset

, todas 
\begin_inset Formula $\boldsymbol{A}_{0}\leq\boldsymbol{A}_{\mathcal{L}}$
\end_inset

,
\begin_inset Formula $\boldsymbol{B}_{0}\leq\boldsymbol{B}_{\mathcal{L}}$
\end_inset

, todo homomorfismo 
\begin_inset Formula $h:\boldsymbol{A}_{0}\rightarrow\boldsymbol{B}_{0}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

.
\end_layout

\begin_layout Proof
Veamos 1
\begin_inset Formula $\Rightarrow$
\end_inset

2:
\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\varphi\left(\bar{x}\right)$
\end_inset

 la fórmula abierta positiva que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, sean 
\begin_inset Formula $\mathbf{A,B}\in\mathcal{K}$
\end_inset

 y sean 
\begin_inset Formula $\mathbf{A_{0}}\leq\mathbf{A_{\mathcal{L}}}$
\end_inset

 y 
\begin_inset Formula $\mathbf{B}_{0}\leq\mathbf{B_{\mathcal{L}}}$
\end_inset

 tales que 
\begin_inset Formula $\funcion[h]{\mathbf{A}_{0}}{\mathbf{B}_{0}}$
\end_inset

 sea un homomorfismo.
 Sea 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}_{0}}\cap A_{0}$
\end_inset

 veamos que 
\begin_inset Formula $h\left(\bar{a}\right)\in R^{\mathbf{B}_{0}}$
\end_inset

:
\end_layout

\begin_layout Proof
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}_{0}}\Rightarrow\bar{a}\in R^{\mathbf{A}}\Leftrightarrow\sat{\mathbf{A}}{\varphi}{\bar{a}}$
\end_inset

, por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:abiertas valen en subestructuras y viceversa"

\end_inset

, 
\begin_inset Formula $\sat{\mathbf{A}_{0}}{\varphi}{\bar{a}}$
\end_inset

 y como 
\begin_inset Formula $h$
\end_inset

 es un homomorfismo de 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 en 
\begin_inset Formula $\mathbf{B}_{0}$
\end_inset

 y 
\begin_inset Formula $\varphi$
\end_inset

 es abierta positiva por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:homomorfismos preservan atomicas y abiertas positivas"

\end_inset

, 
\begin_inset Formula $\sat{\mathbf{B}_{0}}{\varphi}{h\left(\bar{a}\right)}$
\end_inset

.
 Nuevamente por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:abiertas valen en subestructuras y viceversa"

\end_inset

 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{h\left(\bar{a}\right)}$
\end_inset

 y como por hipótesis 
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, 
\begin_inset Formula $h\left(\bar{a}\right)\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
Veamos 2
\begin_inset Formula $\Rightarrow$
\end_inset

1:
\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\varphi=\bigvee_{\mathbf{A}\in\mathcal{K}}\left(\bigvee_{\bar{a}\in R^{\mathbf{A}}}\left(\bigwedge_{\alpha\in\Delta_{\mathbf{A}\bar{a}}^{+}}\alpha\left(\bar{x}\right)\right)\right)$
\end_inset

, la cual es fórmula por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:cantidad de formulas es finita"

\end_inset

.
 Sea 
\begin_inset Formula $\mathbf{B}\in\mathcal{K}$
\end_inset

:
\end_layout

\begin_layout Proof
\begin_inset Formula $\Rightarrow$
\end_inset

) Supongamos 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

, entonces en particular para algún 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

 y 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

, 
\begin_inset Formula $\sat{\mathbf{B}}{\Delta_{\mathbf{A}\bar{a}}^{+}}{\bar{b}}$
\end_inset

.
 Por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:formula para diagrama abierto positivo"

\end_inset

, hay un homomorfismo 
\begin_inset Formula $\funcion[h]{\subuniv aA}{\subuniv bB}$
\end_inset

 tal que 
\begin_inset Formula $h\left(\bar{a}\right)=\bar{b}$
\end_inset

.
 Entonces por hipótesis 
\begin_inset Formula $h$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

.
 Finalmente como 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

, entonces 
\begin_inset Formula $h\left(\bar{a}\right)\in R^{\mathbf{B}}$
\end_inset

 o sea que 
\begin_inset Formula $\bar{b}\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Formula $\Leftarrow$
\end_inset

) Supongamos 
\begin_inset Formula $\bar{b}\in R^{\mathbf{B}}$
\end_inset

.
 Entonces 
\begin_inset Formula $\varphi=\cdots\vee\cdots\vee\left(\bigwedge_{\alpha\in\Delta_{\mathbf{B}\bar{b}}^{+}}\alpha\left(\bar{x}\right)\right)$
\end_inset

, evidentemente 
\begin_inset Formula $\sat{\mathbf{B}}{\Delta_{\mathbf{B}\bar{b}}^{+}}{\bar{b}}$
\end_inset

, entonces 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

.
\end_layout

\begin_layout Definition
Sean 
\begin_inset Formula $\enumeracion[m][A],B$
\end_inset

 conjuntos, 
\begin_inset Formula $R^{A_{i}}\subseteq A_{i}^{n}$
\end_inset

 para cada 
\begin_inset Formula $i\in[1,m]$
\end_inset

, 
\begin_inset Formula $R^{B}\subseteq B^{n}$
\end_inset

 y 
\begin_inset Formula $h:D\subseteq A_{1}\times\cdots\times A_{m}\rightarrow B$
\end_inset

 una función.
 Diremos que 
\begin_inset Formula $h$
\end_inset

 
\emph on
preserva
\emph default
 
\begin_inset Formula $R$
\end_inset

 si dados 
\begin_inset Formula 
\[
\bar{a}_{1}=\left(a_{11},\ldots,a_{1m}\right),\ldots,\bar{a}_{n}=\left(a_{n1},\ldots,a_{nm}\right)\in D
\]

\end_inset

 tales que 
\begin_inset Formula 
\[
\left(a_{1i},\ldots,a_{ni}\right)\in R^{A_{i}}\text{para cada i\in[1,m] }
\]

\end_inset

se tiene que 
\begin_inset Formula $\left(h\left(\bar{a}_{1}\right),\ldots,h\left(\bar{a}_{n}\right)\right)\in R^{B}$
\end_inset

.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "thm:preservacion existencial conj atomicas producto"

\end_inset

Sean 
\begin_inset Formula $\enumeracion[m][\mathbf{A}]$
\end_inset

 estructuras y 
\begin_inset Formula $\varphi=\exists\bar{y}\,\psi\left(\bar{x},\bar{y}\right)$
\end_inset

 con 
\begin_inset Formula $\psi$
\end_inset

 una conjunción de fórmulas atómicas.
 Entonces son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
Para todo 
\begin_inset Formula $i=1,\dots,m$
\end_inset

 se da que 
\begin_inset Formula $\sat{\mathbf{A}_{i}}{\varphi}{\enumeracion[ni][a][1i]}$
\end_inset


\end_layout

\begin_layout Enumerate
\begin_inset Formula $\sat{\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}}{\varphi}{\enumeracion[][\bar{a}]}$
\end_inset

, con 
\begin_inset Formula $\bar{a}_{j}=\left(a_{j1},\dots,a_{jm}\right)$
\end_inset


\end_layout

\end_deeper
\begin_layout Proof
Rutina.
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:definibilidad conjuncion de atomicas"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden, sea 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 un símbolo de relación n-ario.
 Para una clase finita 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras, los siguientes son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
Para cada 
\begin_inset Formula $m\geq1$
\end_inset

, para todas 
\begin_inset Formula $\enumeracion[m][\mathbf{A}],\boldsymbol{B}\in\mathcal{K}$
\end_inset

, para cada 
\begin_inset Formula $\boldsymbol{S}\leq\left(\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}\right)_{\mathcal{L}}$
\end_inset

, todo homomorfismo 
\begin_inset Formula $h:\mathbf{S}\rightarrow\boldsymbol{B}_{\mathcal{L}}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

.
\end_layout

\begin_layout Enumerate
Hay una conjunción finita de 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmulas atómicas que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

1) Sea 
\begin_inset Formula $\deff$
\end_inset

 conjunción de atómicas que define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
 Sean 
\begin_inset Formula $m\geq1$
\end_inset

, 
\begin_inset Formula $\enumeracion[m][\mathbf{A}],\boldsymbol{B}\in\mathcal{K}$
\end_inset

, 
\begin_inset Formula $\boldsymbol{S}\leq\left(\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}\right)_{\mathcal{L}}$
\end_inset

, y 
\begin_inset Formula $h:\mathbf{S}\rightarrow\boldsymbol{B}_{\mathcal{L}}$
\end_inset

 un homomorfismo.
 Sean 
\begin_inset Formula 
\[
\bar{s}_{1}=\left(s_{11},\ldots,s_{1m}\right),\ldots,\bar{s}_{n}=\left(s_{n1},\ldots,s_{nm}\right)\in S
\]

\end_inset

 tales que 
\begin_inset Formula 
\[
\left(s_{1i},\ldots,s_{ni}\right)\in R^{A_{i}}\text{ para cada }i\in\{1,\dots,m\}.
\]

\end_inset

Veamos que 
\begin_inset Formula $\left(h\left(\bar{s}_{1}\right),\ldots,h\left(\bar{s}_{n}\right)\right)\in R^{B}$
\end_inset

.
 Como 
\begin_inset Formula $\left(s_{1i},\ldots,s_{ni}\right)\in R^{A_{i}}$
\end_inset

 y 
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, tenemos que 
\begin_inset Formula 
\[
\sat{\mathbf{A}_{i}}{\varphi}{\enumeracion[ni][s]}\mbox{ para }i\in\{1,\dots,m\}.
\]

\end_inset

 Luego, por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:preservacion existencial conj atomicas producto"

\end_inset

, 
\begin_inset Formula 
\[
\sat{\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}}{\varphi}{\enumeracion[][\bar{s}]}.
\]

\end_inset

Como 
\begin_inset Formula $\varphi$
\end_inset

 es abierta y 
\begin_inset Formula $\boldsymbol{S}\leq\left(\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}\right)_{\mathcal{L}}$
\end_inset

, el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:abiertas valen en subestructuras y viceversa"

\end_inset

 implica que 
\begin_inset Formula $\sat{\mathbf{S}}{\varphi}{\enumeracion[][\bar{s}]}$
\end_inset

, y aplicando el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:homomorfismos preservan atomicas y abiertas positivas"

\end_inset

 obtenemos que 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{h\left(\bar{s}_{1}\right),\dots,h\left(\bar{s}_{n}\right)}$
\end_inset

.
 Finalmente, como 
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

 y 
\begin_inset Formula $\mathbf{B}\in\mathcal{K}$
\end_inset

, concluimos que 
\begin_inset Formula $\left(h\left(\bar{s}_{1}\right),\dots,h\left(\bar{s}_{n}\right)\right)\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
1
\begin_inset Formula $\Rightarrow$
\end_inset

2) Supongamos 
\begin_inset Formula $\mathcal{K}=\left\{ \enumeracion[m][\mathbf{A}]\right\} $
\end_inset

, 
\begin_inset Formula $R$
\end_inset

 n-aria.
 Sean 
\begin_inset Formula $\enumeracion[][\bar{x}]\in\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|}$
\end_inset

 tales que 
\begin_inset Formula $\bar{x}_{i}=\left(x_{i1}^{1},\dots,x_{i\left|R^{\mathbf{A}_{1}}\right|}^{1},\dots,x_{i1}^{m},\dots,x_{i\left|R^{\mathbf{A}_{m}}\right|}^{m}\right)$
\end_inset

 para cada 
\begin_inset Formula $i\in\left\{ 1,\dots,m\right\} $
\end_inset

 con 
\begin_inset Formula $\bigcup R^{\mathbf{A}_{j}}=\left\{ \left(x_{1i}^{j},\dots,x_{ni}^{j}\right)\text{ con }i\in\left\{ 1,\left|R^{\mathbf{A}_{j}}\right|\right\} \right\} $
\end_inset

 para cada 
\begin_inset Formula $i\in\left\{ 1,\dots,m\right\} $
\end_inset

 .
 Sea 
\begin_inset Formula 
\[
\varphi=\bigwedge_{\alpha\in\Delta_{\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|},\left(\enumeracion[][\bar{x}]\right)}^{+}}\alpha\left(\bar{x}\right)
\]

\end_inset

.
 Supongamos 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\enumeracion[][b]}$
\end_inset

 y veamos que 
\begin_inset Formula $\left(\enumeracion[][b]\right)\in R^{\mathbf{B}}$
\end_inset

.
 Como 
\begin_inset Formula $\sat{\mathbf{B}}{\Delta_{\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|},\left(\enumeracion[][\bar{x}]\right)}^{+}}{\enumeracion[][b]}$
\end_inset

, por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:diagrama atomico positivo sii homomorfismo"

\end_inset

 hay 
\begin_inset Formula $h$
\end_inset

 homomorfismo de 
\begin_inset Formula $\left\langle \enumeracion[][\bar{x}]\right\rangle ^{\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|}}$
\end_inset

 en 
\begin_inset Formula $\left\langle \enumeracion[][b]\right\rangle ^{\mathbf{B}}$
\end_inset

 tal que 
\begin_inset Formula $h\left(\bar{x}_{i}\right)=b_{i}$
\end_inset

.
 Como por hipótesis 
\begin_inset Formula $h$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

, entonces como 
\begin_inset Formula $\left(x_{1i}^{j},\dots,x_{ni}^{j}\right)\in R^{\mathbf{A}_{j}}$
\end_inset

, 
\begin_inset Formula $\left(h\left(\bar{x}_{1}\right),\dots,h\left(\bar{x}_{n}\right)\right)\in R^{\mathbf{B}}$
\end_inset

, que es exactamente 
\begin_inset Formula $\left(\enumeracion[][b]\right)\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
Ahora supongamos 
\begin_inset Formula $\left(\enumeracion[][b]\right)\in R^{\mathbf{B}}$
\end_inset

 y veamos que 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\enumeracion[][b]}$
\end_inset

, entonces hay algún 
\begin_inset Formula $j$
\end_inset

 tal que 
\begin_inset Formula $\mathbf{A}_{j}=\mathbf{B}$
\end_inset

 y hay algún 
\begin_inset Formula $k$
\end_inset

 y algún 
\begin_inset Formula $j$
\end_inset

 tal que 
\begin_inset Formula 
\[
\left(x_{1k}^{j},\dots,x_{nk}^{j}\right)=\left(\enumeracion[][b]\right)
\]

\end_inset

.
 Entonces como 
\begin_inset Formula $\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\mathbf{B}^{\left|R^{\mathbf{B}}\right|}\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|}\vDash\varphi\left[\enumeracion[][\bar{x}]\right]$
\end_inset

 por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:preservacion existencial conj atomicas producto"

\end_inset

 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{x_{1k}^{j},\dots,x_{nk}^{j}}$
\end_inset

, por lo tanto 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\enumeracion[][b]}$
\end_inset

.
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:formula para diagrama existencial"

\end_inset

Sea 
\begin_inset Formula $\mathbf{A}$
\end_inset

 una estructura finita y 
\begin_inset Formula $\enumeracion[][a]\in A$
\end_inset

.
 Entonces hay una fórmula existencial 
\begin_inset Formula $\deff[\varphi][\enumeracion]$
\end_inset

 tal que para toda estructura 
\begin_inset Formula $\mathbf{B}$
\end_inset

 y para todo 
\begin_inset Formula $\bar{b}\in B^{n}$
\end_inset

 los siguientes son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Hay un embedding 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 tal que 
\begin_inset Formula $\gamma\left(\bar{a}\right)=\bar{b}$
\end_inset


\end_layout

\end_deeper
\begin_layout Proof
Sean 
\begin_inset Formula $\enumeracion[m][a']$
\end_inset

 tales que 
\begin_inset Formula $\left\langle \enumeracion[n][a],\enumeracion[m][a']\right\rangle ^{\mathbf{A}}=\mathbf{A}$
\end_inset

 y sea 
\begin_inset Formula 
\[
\varphi=\exists\enumeracion[m][y]\left(\bigwedge_{\alpha\in\Delta_{\left(\bar{a},\bar{a'}\right),\mathbf{A}}}\alpha\left(\bar{x},\bar{y}\right)\right)
\]

\end_inset

que es fórmula por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:cantidad de formulas es finita"

\end_inset

.
\end_layout

\begin_layout Proof
Supongamos 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

, entonces existen 
\begin_inset Formula $\enumeracion[m][b']\in B$
\end_inset

 tales que 
\begin_inset Formula $\sat{\mathbf{B}}{\bigwedge_{\alpha\in\Delta_{\left(\bar{a},\bar{a'}\right),\mathbf{A}}}\alpha\left(\bar{x},\bar{y}\right)}{\bar{b},\bar{b'}}$
\end_inset

 por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:diagrama sii isomorfismo"

\end_inset

 hay un isomorfismo 
\begin_inset Formula $\funcion[\gamma]{\left\langle \bar{a},\bar{a'}\right\rangle ^{\mathbf{A}}}{\left\langle \bar{b},\bar{b'}\right\rangle ^{\mathbf{B}}}$
\end_inset

 tal que 
\begin_inset Formula $\gamma\left(\bar{a},\bar{a'}\right)=\left(\bar{b},\bar{b'}\right)$
\end_inset

, y como 
\begin_inset Formula $\left\langle \bar{a},\bar{a'}\right\rangle ^{\mathbf{A}}=\mathbf{A}$
\end_inset

 y 
\begin_inset Formula $\left\langle \bar{b},\bar{b'}\right\rangle ^{\mathbf{B}}\leq\mathbf{B}$
\end_inset

, 
\begin_inset Formula $\gamma$
\end_inset

 es un embedding de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 en 
\begin_inset Formula $\mathbf{B}$
\end_inset

 tal que 
\begin_inset Formula $\gamma\left(\bar{a}\right)=\bar{b}$
\end_inset

.
\end_layout

\begin_layout Proof
Supongamos que hay un embedding 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 tal que 
\begin_inset Formula $\gamma\left(\bar{a}\right)=\bar{b}$
\end_inset

, por lo tanto 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{S}\leq\mathbf{B}}$
\end_inset

 es un isomorfismo.
 Como 
\begin_inset Formula $\sat{\mathbf{A}}{\varphi}{\bar{a}}$
\end_inset

, por ser 
\begin_inset Formula $\gamma$
\end_inset

 un isomorfismo 
\begin_inset Formula $\sat{\mathbf{S}}{\varphi}{\gamma\left(\bar{a}\right)}$
\end_inset

 y entonces 
\begin_inset Formula $\sat{\mathbf{S}}{\varphi}{\bar{b}}$
\end_inset

.
 Por lo tanto existe 
\begin_inset Formula $\bar{b'}$
\end_inset

en 
\begin_inset Formula $S\subseteq B$
\end_inset

 tal que 
\begin_inset Formula $\sat{\mathbf{S}}{\bigwedge_{\alpha\in\Delta_{\left(\bar{a},\bar{a'}\right),\mathbf{A}}}\alpha\left(\bar{x},\bar{y}\right)}{\bar{b},\bar{b'}}$
\end_inset

.
 Como 
\begin_inset Formula $\bigwedge_{\alpha\in\Delta_{\left(\bar{a},\bar{a'}\right),\mathbf{A}}}\alpha\left(\bar{x},\bar{y}\right)$
\end_inset

 es una fórmula abierta, por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:abiertas valen en subestructuras y viceversa"

\end_inset

, 
\begin_inset Formula $\sat{\mathbf{B}}{\bigwedge_{\alpha\in\Delta_{\left(\bar{a},\bar{a'}\right),\mathbf{A}}}\alpha\left(\bar{x},\bar{y}\right)}{\bar{b},\bar{b'}}$
\end_inset

, entonces 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset


\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:formula para diagrama existencial positivo"

\end_inset

Sea 
\begin_inset Formula $\mathbf{A}$
\end_inset

 una estructura finita y 
\begin_inset Formula $\enumeracion[][a]\in A$
\end_inset

.
 Entonces hay una fórmula existencial positiva 
\begin_inset Formula $\deff[\varphi][\enumeracion]$
\end_inset

 tal que para toda estructura 
\begin_inset Formula $\mathbf{B}$
\end_inset

 y para todo 
\begin_inset Formula $\bar{b}\in B^{n}$
\end_inset

 los siguientes son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Hay un homomorfismo 
\begin_inset Formula $\funcion[h]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 tal que 
\begin_inset Formula $h\left(\bar{a}\right)=\bar{b}$
\end_inset


\end_layout

\end_deeper
\begin_layout Proof
Sean 
\begin_inset Formula $\enumeracion[m][a']$
\end_inset

 tales que 
\begin_inset Formula $\left\langle \enumeracion[n][a],\enumeracion[m][a']\right\rangle ^{\mathbf{A}}=\mathbf{A}$
\end_inset

 y sea 
\begin_inset Formula 
\[
\varphi=\exists\enumeracion[m][y]\left(\bigwedge_{\alpha\in\Delta_{\left(\bar{a},\bar{a'}\right),\mathbf{A}}^{+}}\alpha\left(\bar{x},\bar{y}\right)\right)
\]

\end_inset

que es fórmula por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:cantidad de formulas es finita"

\end_inset

.
\end_layout

\begin_layout Proof
Supongamos 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

, entonces existen 
\begin_inset Formula $\enumeracion[m][b']\in B$
\end_inset

 tales que 
\begin_inset Formula $\sat{\mathbf{B}}{\bigwedge_{\alpha\in\Delta_{\left(\bar{a},\bar{a'}\right),\mathbf{A}}^{+}}\alpha\left(\bar{x},\bar{y}\right)}{\bar{b},\bar{b'}}$
\end_inset

 por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:diagrama atomico positivo sii homomorfismo"

\end_inset

 hay un homomorfismo 
\begin_inset Formula $\funcion[h]{\left\langle \bar{a},\bar{a'}\right\rangle ^{\mathbf{A}}}{\left\langle \bar{b},\bar{b'}\right\rangle ^{\mathbf{B}}}$
\end_inset

 tal que 
\begin_inset Formula $h\left(\bar{a},\bar{a'}\right)=\left(\bar{b},\bar{b'}\right)$
\end_inset

, y como 
\begin_inset Formula $\left\langle \bar{a},\bar{a'}\right\rangle ^{\mathbf{A}}=\mathbf{A}$
\end_inset

 y 
\begin_inset Formula $\left\langle \bar{b},\bar{b'}\right\rangle ^{\mathbf{B}}\leq\mathbf{B}$
\end_inset

, 
\begin_inset Formula $h$
\end_inset

 es un homomorfismo de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 en 
\begin_inset Formula $\mathbf{B}$
\end_inset

 tal que 
\begin_inset Formula $h\left(\bar{a}\right)=\bar{b}$
\end_inset

.
\end_layout

\begin_layout Proof
Supongamos que hay un homomorfismo 
\begin_inset Formula $\funcion[h]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 tal que 
\begin_inset Formula $h\left(\bar{a}\right)=\bar{b}$
\end_inset

.
 Como 
\begin_inset Formula $\sat{\mathbf{A}}{\varphi}{\bar{a}}$
\end_inset

, entonces 
\begin_inset Formula $\sat{\mathbf{A}}{\Delta_{\left(\bar{a},\bar{a'}\right),\mathbf{A}}^{+}}{\bar{a},\bar{a'}}$
\end_inset

 y por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:homomorfismos preservan atomicas y abiertas positivas"

\end_inset

 
\begin_inset Formula $\sat{\mathbf{B}}{\Delta_{\left(\bar{a},\bar{a'}\right),\mathbf{A}}^{+}}{h\left(\bar{a}\right),h\left(\bar{a'}\right)}$
\end_inset

.
 Entonces 
\begin_inset Formula $\sat{\mathbf{B}}{\Delta_{\left(\bar{a},\bar{a'}\right),\mathbf{A}}^{+}}{\bar{b},\bar{b'}}$
\end_inset

, por lo que claramente 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

.
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:definibiliad de primer orden"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden, sea 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 un símbolo de relación n-ario.
 Para una clase finita 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras, los siguientes son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
Hay una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Para todas 
\begin_inset Formula $\boldsymbol{A},\boldsymbol{B}\in\mathcal{K}$
\end_inset

, todo isomorfismo 
\begin_inset Formula $\gamma:\boldsymbol{A}_{\mathcal{L}}\rightarrow\boldsymbol{B}_{\mathcal{L}}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
1
\begin_inset Formula $\Rightarrow$
\end_inset

2) Sea 
\begin_inset Formula $\varphi$
\end_inset

 una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-formula que define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, y sea 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 un isomorfismo.
 Supongamos 
\begin_inset Formula $\sat{\mathbf{A}}{\varphi}{\bar{a}}$
\end_inset

 entonces 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\gamma\left(\bar{a}\right)}$
\end_inset

 y como 
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, entonces 
\begin_inset Formula $\gamma\left(\bar{a}\right)\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

1) Para cada 
\begin_inset Formula $\mathbf{A}\in\mathcal{K},$
\end_inset

 cada 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

, tomo 
\begin_inset Formula $\bar{a'}$
\end_inset

 tal que 
\begin_inset Formula $\left\langle \bar{a},\bar{a'}\right\rangle ^{\mathbf{A}}=\mathbf{A}$
\end_inset

.
 Ahora tomo 
\begin_inset Formula $\delta_{\mathbf{A},(\bar{a},\bar{a'})}\left(\bar{x},\bar{y}\right)=\bigwedge_{\alpha\in\Delta_{\left(\bar{a},\bar{a'}\right),\mathbf{A}}}\alpha\left(\bar{x},\bar{y}\right)$
\end_inset

, que es fórmula por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:cantidad de formulas es finita"

\end_inset

.
 Ahora tomo 
\begin_inset Formula 
\[
\varphi=\bigvee_{\mathbf{A}\in\mathcal{K}}\left(\left(\bigvee_{\bar{a}\in R^{\mathbf{A}}}\left(\exists\bar{y}\,\delta_{\mathbf{A},(\bar{a},\bar{a'})}\left(\bar{x},\bar{y}\right)\right)\right)\wedge\left(\forall\enumeracion[\left|\mathbf{A}\right|+1][x]\bigvee_{i\neq j}x_{i}=x_{j}\right)\right)
\]

\end_inset


\begin_inset Note Note
status open

\begin_layout Plain Layout
esta formula se podria escribir un poco mejor capaz
\end_layout

\end_inset


\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\left(\enumeracion[][b]\right)\in R^{\mathbf{B}}$
\end_inset

.
 Entonces como 
\begin_inset Formula $\varphi=\dots\vee\left(\left(\exists\bar{y}\,\delta_{\mathbf{B},(\bar{b},\bar{b'})}\left(\bar{x},\bar{y}\right)\vee\dots\right)\wedge\left(\forall\enumeracion[\left|\mathbf{B}\right|+1][x]\bigvee_{i\neq j}x_{i}=x_{j}\right)\right)\vee\dots$
\end_inset

, y como 
\begin_inset Formula $\sat{\mathbf{B}}{\exists\bar{y}\,\delta_{\mathbf{B},(\bar{b},\bar{b'})}\left(\bar{x},\bar{y}\right)}{\bar{b},\bar{b'}}$
\end_inset

 y 
\begin_inset Formula $\sat{\mathbf{B}}{\forall\enumeracion[\left|\mathbf{B}\right|+1][x]\bigvee_{i\neq j}x_{i}=x_{j}}{\bar{b},\bar{b'}}$
\end_inset

 entonces 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

.
\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\enumeracion[][b]}$
\end_inset

.
 Entonces hay algún 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

, y algún 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

 tales que 
\begin_inset Formula $\sat{\mathbf{B}}{\left(\exists\bar{y}\,\delta_{\mathbf{A},(\bar{a},\bar{a'})}\left(\bar{x},\bar{y}\right)\right)\wedge\left(\forall\enumeracion[\left|\mathbf{A}\right|+1][x]\bigvee_{i\neq j}x_{i}=x_{j}\right)}{\bar{b}}$
\end_inset

.
 Entonces hay un 
\begin_inset Formula $\bar{z}$
\end_inset

 en 
\begin_inset Formula $\mathbf{B}$
\end_inset

 tal que 
\begin_inset Formula $\sat{\mathbf{B}}{\delta_{\mathbf{A},(\bar{a},\bar{a'})}\left(\bar{x},\bar{y}\right)}{\bar{b},\bar{z}}$
\end_inset

.
 Como 
\begin_inset Formula $\sat{\mathbf{B}}{\Delta_{\left(\bar{a},\bar{a'}\right),\mathbf{A}}}{\bar{b},\bar{z}}$
\end_inset

, por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:diagrama sii isomorfismo"

\end_inset

 hay 
\begin_inset Formula $\funcion[\gamma]{\left\langle \bar{a},\bar{a'}\right\rangle ^{\mathbf{A}}}{\left\langle \bar{b},\bar{b'}\right\rangle ^{\mathbf{B}}}$
\end_inset

 isomorfismo tal que 
\begin_inset Formula $\left(\gamma\left(\bar{a}\right),\gamma\left(\bar{a'}\right)\right)=\left(\bar{b},\bar{z}\right)$
\end_inset

 con 
\begin_inset Formula $\left\langle \bar{a},\bar{a'}\right\rangle ^{\mathbf{A}}=\mathbf{A}$
\end_inset

 y 
\begin_inset Formula $\left\langle \bar{b},\bar{b'}\right\rangle ^{\mathbf{B}}\leq\mathbf{B}$
\end_inset

, lo que implica que 
\begin_inset Formula $\left|\mathbf{A}\right|\leq\left|\mathbf{B}\right|$
\end_inset

.
 Pero como 
\begin_inset Formula $\sat{\mathbf{B}}{\forall\enumeracion[\left|\mathbf{A}\right|+1][x]\bigvee_{i\neq j}x_{i}=x_{j}}{\enumeracion[][b]}$
\end_inset

 entonces 
\begin_inset Formula $\left|\mathbf{B}\right|\leq\left|\mathbf{A}\right|$
\end_inset

, luego 
\begin_inset Formula $\left|\mathbf{B}\right|=\left|\mathbf{A}\right|,$
\end_inset

 por lo que es claro que 
\begin_inset Formula $\left\langle \bar{b},\bar{b'}\right\rangle ^{\mathbf{B}}=\mathbf{B}$
\end_inset

.
 Como 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 es un isomorfismo tal que 
\begin_inset Formula $\left(\gamma\left(\bar{a}\right),\gamma\left(\bar{a'}\right)\right)=\left(\bar{b},\bar{z}\right)$
\end_inset

 y sabemos que los isomorfismos entre estructuras de 
\begin_inset Formula $\mathcal{K}$
\end_inset

, preservan 
\begin_inset Formula $R$
\end_inset

, como 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

, 
\begin_inset Formula $\gamma\left(\bar{a}\right)=\bar{b}\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
Como 
\begin_inset Formula $\varphi$
\end_inset

 es disyunción de existenciales, por teorema puede ser convertida en una
 fórmula existencial.
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:definibiliad existencial"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden, sea 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 un símbolo de relación n-ario.
 Para una clase finita 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras, los siguientes son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
Hay una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula existencial que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Para todas 
\begin_inset Formula $\boldsymbol{A},\boldsymbol{B}\in\mathcal{K}$
\end_inset

, todo embedding 
\begin_inset Formula $\gamma:\boldsymbol{A}_{\mathcal{L}}\rightarrow\boldsymbol{B}_{\mathcal{L}}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
1
\begin_inset Formula $\Rightarrow$
\end_inset

2) Sea 
\begin_inset Formula $\varphi$
\end_inset

 existencial que define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, y sea 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 un embedding.
 Entonces 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{S}\leq\mathbf{B}}$
\end_inset

 es un isomorfismo.
 Supongamos 
\begin_inset Formula $\sat{\mathbf{A}}{\varphi}{\bar{a}}$
\end_inset

 entonces 
\begin_inset Formula $\sat{\mathbf{S}}{\varphi}{\gamma\left(\bar{a}\right)}$
\end_inset

.
 Como 
\begin_inset Formula $\varphi$
\end_inset

 es de la forma 
\begin_inset Formula $\varphi=\exists\bar{y}\,\psi\left(\bar{x},\bar{y}\right)$
\end_inset

 con 
\begin_inset Formula $\psi$
\end_inset

 abierta, existe un 
\begin_inset Formula $\bar{s}$
\end_inset

 tal que 
\begin_inset Formula $\sat{\mathbf{S}}{\psi}{\gamma\left(\bar{a}\right),\bar{s}}$
\end_inset

.
 Como 
\begin_inset Formula $\psi$
\end_inset

 es abierta y 
\begin_inset Formula $\mathbf{S}\leq\mathbf{B}$
\end_inset

, por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:abiertas valen en subestructuras y viceversa"

\end_inset

 
\begin_inset Formula $\sat{\mathbf{B}}{\psi}{\gamma\left(\bar{a}\right),\bar{s}}$
\end_inset

.
 Entonces 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\gamma\left(\bar{a}\right)}$
\end_inset

 y como 
\begin_inset Formula $\varphi$
\end_inset

define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, entonces 
\begin_inset Formula $\gamma\left(\bar{a}\right)\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

1) Para cada 
\begin_inset Formula $\mathbf{A}\in\mathcal{K},$
\end_inset

 cada 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

, tomo 
\begin_inset Formula $\bar{a'}$
\end_inset

 tal que 
\begin_inset Formula $\left\langle \bar{a},\bar{a'}\right\rangle ^{\mathbf{A}}=\mathbf{A}$
\end_inset

.
 Ahora tomo 
\begin_inset Formula $\delta_{\mathbf{A},(\bar{a},\bar{a'})}\left(\bar{x},\bar{y}\right)=\bigwedge_{\alpha\in\Delta_{\left(\bar{a},\bar{a'}\right),\mathbf{A}}}\alpha\left(\bar{x},\bar{y}\right)$
\end_inset

, que es fórmula por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:cantidad de formulas es finita"

\end_inset

.
 Ahora tomo 
\begin_inset Formula 
\[
\varphi=\bigvee_{\mathbf{A}\in\mathcal{K}}\left(\bigvee_{\bar{a}\in R^{\mathbf{A}}}\left(\exists\bar{y}\,\delta_{\mathbf{A},(\bar{a},\bar{a'})}\left(\bar{x},\bar{y}\right)\right)\right)
\]

\end_inset


\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\left(\enumeracion[][b]\right)\in R^{\mathbf{B}}$
\end_inset

.
 Entonces como 
\begin_inset Formula $\varphi=\dots\vee\exists\bar{y}\,\delta_{\mathbf{B},(\bar{b},\bar{b'})}\left(\bar{x},\bar{y}\right)\vee\dots$
\end_inset

, y como 
\begin_inset Formula $\sat{\mathbf{B}}{\exists\bar{y}\,\delta_{\mathbf{B},(\bar{b},\bar{b'})}\left(\bar{x},\bar{y}\right)}{\bar{b},\bar{b'}}$
\end_inset

, 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\bar{b}}$
\end_inset

.
\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\enumeracion[][b]}$
\end_inset

.
 Entonces para algún 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

, y algún 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

 tales que 
\begin_inset Formula $\sat{\mathbf{B}}{\exists\bar{y}\,\delta_{\mathbf{A},(\bar{a},\bar{a'})}\left(\bar{x},\bar{y}\right)}{\bar{b}}$
\end_inset

.
 Entonces hay un 
\begin_inset Formula $\bar{z}$
\end_inset

 en 
\begin_inset Formula $\mathbf{B}$
\end_inset

 tal que 
\begin_inset Formula $\sat{\mathbf{B}}{\delta_{\mathbf{A},(\bar{a},\bar{a'})}\left(\bar{x},\bar{y}\right)}{\bar{b},\bar{z}}$
\end_inset

.
 Como 
\begin_inset Formula $\sat{\mathbf{B}}{\Delta_{\left(\bar{a},\bar{a'}\right),\mathbf{A}}}{\bar{b},\bar{z}}$
\end_inset

, por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:diagrama sii isomorfismo"

\end_inset

 hay 
\begin_inset Formula $\funcion[\gamma]{\left\langle \bar{a},\bar{a'}\right\rangle ^{\mathbf{A}}}{\left\langle \bar{b},\bar{b'}\right\rangle ^{\mathbf{B}}}$
\end_inset

 isomorfismo tal que 
\begin_inset Formula $\left(\gamma\left(\bar{a}\right),\gamma\left(\bar{a'}\right)\right)=\left(\bar{b},\bar{z}\right)$
\end_inset

 y como 
\begin_inset Formula $\left\langle \bar{a},\bar{a'}\right\rangle ^{\mathbf{A}}=\mathbf{A}$
\end_inset

 y 
\begin_inset Formula $\left\langle \bar{b},\bar{b'}\right\rangle ^{\mathbf{B}}\leq\mathbf{B}$
\end_inset

, 
\begin_inset Formula $\gamma$
\end_inset

 es un embedding de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 en 
\begin_inset Formula $\mathbf{B}$
\end_inset

 y como 
\begin_inset Formula $\bar{a}\in R^{\mathbf{A}}$
\end_inset

, 
\begin_inset Formula $\gamma\left(\bar{a}\right)\in R^{\mathbf{B}}$
\end_inset

, 
\begin_inset Formula $\bar{b}\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
Como 
\begin_inset Formula $\varphi$
\end_inset

 es disyunción de existenciales, por teorema puede ser convertida en una
 fórmula existencial.
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:definibilidad existencial positiva"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden, sea 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 un símbolo de relación n-ario.
 Para una clase finita 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras, los siguientes son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
Hay una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula existencial positiva que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Enumerate
Para todas 
\begin_inset Formula $\boldsymbol{A},\boldsymbol{B}\in\mathcal{K}$
\end_inset

, todo homomorfismo 
\begin_inset Formula $\gamma:\boldsymbol{A}_{\mathcal{L}}\rightarrow\boldsymbol{B}_{\mathcal{L}}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
Igual a la prueba del Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibiliad existencial"

\end_inset

, tomando el diagrama abierto positivo.
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:definibilidad primitiva positiva"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden, sea 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 un símbolo de relación n-ario.
 Para una clase finita 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras, los siguientes son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
Para cada 
\begin_inset Formula $m\geq1$
\end_inset

, para todas 
\begin_inset Formula $\enumeracion[m][\mathbf{A}],\boldsymbol{B}\in\mathcal{K}$
\end_inset

, todo homomorfismo 
\begin_inset Formula $h:\left(\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}\right)_{\mathcal{L}}\rightarrow\boldsymbol{B}_{\mathcal{L}}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

.
\end_layout

\begin_layout Enumerate
Hay una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula primitiva positiva que define 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

1) Sea 
\begin_inset Formula $\varphi=\exists\bar{y}\,\psi\left(\bar{x},\bar{y}\right)$
\end_inset

 primitiva positiva que define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
 Sean 
\begin_inset Formula $m\geq1$
\end_inset

, 
\begin_inset Formula $\enumeracion[m][\mathbf{A}],\boldsymbol{B}\in\mathcal{K}$
\end_inset

 y 
\begin_inset Formula $h:\left(\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}\right)_{\mathcal{L}}\rightarrow\boldsymbol{B}_{\mathcal{L}}$
\end_inset

 un homomorfismo.
 Sean 
\begin_inset Formula 
\[
\bar{a}_{1}=\left(a_{11},\ldots,a_{1m}\right),\ldots,\bar{a}_{n}=\left(a_{n1},\ldots,a_{nm}\right)\in S
\]

\end_inset

 tales que 
\begin_inset Formula 
\[
\left(a_{1i},\ldots,a_{ni}\right)\in R^{A_{i}}\text{ para cada }i\in\{1,\dots,m\}.
\]

\end_inset

Veamos que 
\begin_inset Formula $\left(h\left(\bar{a}_{1}\right),\ldots,h\left(\bar{a}_{n}\right)\right)\in R^{B}$
\end_inset

.
 Como 
\begin_inset Formula $\left(a_{1i},\ldots,a_{ni}\right)\in R^{A_{i}}$
\end_inset

 y 
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

, tenemos que 
\begin_inset Formula 
\[
\sat{\mathbf{A}_{i}}{\varphi}{\enumeracion[ni][a]}\mbox{ para }i\in\{1,\dots,m\}.
\]

\end_inset

Luego, por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:preservacion existencial conj atomicas producto"

\end_inset

, 
\begin_inset Formula 
\[
\sat{\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}}{\varphi}{\enumeracion[][\bar{a}]}.
\]

\end_inset

Entonces hay 
\begin_inset Formula $\enumeracion[k][b]\in A_{1}\times\cdots\times A_{m}$
\end_inset

, tales que 
\begin_inset Formula 
\[
\sat{\mathbf{A}_{1}\times\cdots\times\mathbf{A}_{m}}{\psi}{\enumeracion[][\bar{a}],\enumeracion[k][b]}.
\]

\end_inset

Como 
\begin_inset Formula $\psi$
\end_inset

 es abierta positiva, aplicando el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:homomorfismos preservan atomicas y abiertas positivas"

\end_inset

 obtenemos que 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{h\left(\bar{a}_{1}\right),\dots,h\left(\bar{a}_{n}\right)}$
\end_inset

.
 Finalmente, como 
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

 y 
\begin_inset Formula $\mathbf{B}\in\mathcal{K}$
\end_inset

, concluimos que 
\begin_inset Formula $\left(h\left(\bar{a}_{1}\right),\dots,h\left(\bar{a}_{n}\right)\right)\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
1
\begin_inset Formula $\Rightarrow$
\end_inset

2)Supongamos 
\begin_inset Formula $\mathcal{K}=\left\{ \enumeracion[m][\mathbf{A}]\right\} $
\end_inset

, 
\begin_inset Formula $R$
\end_inset

 n-aria.
 Sean 
\begin_inset Formula $\enumeracion[][\bar{x}]\in\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|}$
\end_inset

 tales que 
\begin_inset Formula $\bar{x}_{i}=\left(x_{i1}^{1},\dots,x_{i\left|R^{\mathbf{A}_{1}}\right|}^{1},\dots,x_{i1}^{m},\dots,x_{i\left|R^{\mathbf{A}_{m}}\right|}^{m}\right)$
\end_inset

 para cada 
\begin_inset Formula $i\in\left\{ 1,\dots,m\right\} $
\end_inset

 con 
\begin_inset Formula $\bigcup R^{\mathbf{A}_{j}}=\left\{ \left(x_{1i}^{j},\dots,x_{ni}^{j}\right)\text{ con }i\in\left\{ 1,\left|R^{\mathbf{A}_{j}}\right|\right\} \right\} $
\end_inset

 para cada 
\begin_inset Formula $i\in\left\{ 1,\dots,m\right\} $
\end_inset

 .
 Sean 
\begin_inset Formula $\enumeracion[k][\bar{x'}]\in\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|}$
\end_inset

, tales que 
\begin_inset Formula $\left\langle \enumeracion[][\bar{x}],\enumeracion[k][\bar{x'}]\right\rangle ^{\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|}}=\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|}$
\end_inset

.
 Sea 
\begin_inset Formula 
\[
\varphi=\exists\bar{y}\bigwedge_{\alpha\in\Delta_{\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|},\left(\enumeracion[][\bar{x}],\enumeracion[k][\bar{x'}]\right)}^{+}}\alpha\left(\bar{x},\bar{y}\right)
\]

\end_inset

.
 Supongamos 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\enumeracion[][b]}$
\end_inset

 y veamos que 
\begin_inset Formula $\left(\enumeracion[][b]\right)\in R^{\mathbf{B}}$
\end_inset

.
 Entonces hay 
\begin_inset Formula $\enumeracion[k][b']$
\end_inset

 tal que 
\begin_inset Formula $\sat{\mathbf{B}}{\Delta_{\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|},\left(\enumeracion[][\bar{x}],\enumeracion[k][\bar{x'}]\right)}^{+}}{\enumeracion[][b],\enumeracion[k][b']}$
\end_inset

, por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:diagrama atomico positivo sii homomorfismo"

\end_inset

 hay 
\begin_inset Formula $h$
\end_inset

 homomorfismo de 
\begin_inset Formula $\left\langle \enumeracion[][\bar{x}],\enumeracion[k][\bar{x'}]\right\rangle ^{\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|}}$
\end_inset

 en 
\begin_inset Formula $\left\langle \enumeracion[][b],\enumeracion[k][b']\right\rangle ^{\mathbf{B}}$
\end_inset

 tal que 
\begin_inset Formula $h\left(\bar{x}_{i}\right)=b_{i}$
\end_inset

 y 
\begin_inset Formula $h\left(\bar{x'}_{i}\right)=b'_{i}$
\end_inset

, claramente 
\begin_inset Formula $h$
\end_inset

 es un homomorfismo de 
\begin_inset Formula $\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|}$
\end_inset

 en 
\begin_inset Formula $\mathbf{B}$
\end_inset

.
 Como por hipótesis 
\begin_inset Formula $h$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

, entonces como 
\begin_inset Formula $\left(x_{1i}^{j},\dots,x_{ni}^{j}\right)\in R^{\mathbf{A}_{j}}$
\end_inset

, 
\begin_inset Formula $\left(h\left(\bar{x}_{1}\right),\dots,h\left(\bar{x}_{n}\right)\right)\in R^{\mathbf{B}}$
\end_inset

, que es exactamente 
\begin_inset Formula $\left(\enumeracion[][b]\right)\in R^{\mathbf{B}}$
\end_inset

.
\end_layout

\begin_layout Proof
Ahora supongamos 
\begin_inset Formula $\left(\enumeracion[][b]\right)\in R^{\mathbf{B}}$
\end_inset

 y veamos que 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\enumeracion[][b]}$
\end_inset

, entonces hay algún 
\begin_inset Formula $j$
\end_inset

 tal que 
\begin_inset Formula $\mathbf{A}_{j}=\mathbf{B}$
\end_inset

 y hay algún 
\begin_inset Formula $k$
\end_inset

 y algún 
\begin_inset Formula $j$
\end_inset

 tal que 
\begin_inset Formula 
\[
\left(x_{1k}^{j},\dots,x_{nk}^{j}\right)=\left(\enumeracion[][b]\right)
\]

\end_inset

.
 Entonces como 
\begin_inset Formula $\mathbf{A}_{1}^{\left|R^{\mathbf{A}_{1}}\right|}\times\cdots\times\mathbf{B}^{\left|R^{\mathbf{B}}\right|}\times\cdots\times\mathbf{A}_{m}^{\left|R^{\mathbf{A}_{m}}\right|}\vDash\varphi\left[\enumeracion[][\bar{x}]\right]$
\end_inset

 por Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:preservacion existencial conj atomicas producto"

\end_inset

 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{x_{1k}^{j},\dots,x_{nk}^{j}}$
\end_inset

, por lo tanto 
\begin_inset Formula $\sat{\mathbf{B}}{\varphi}{\enumeracion[][b]}$
\end_inset

.
\end_layout

\begin_layout Chapter
Algoritmos de chequeo de definibilidad
\begin_inset CommandInset label
LatexCommand label
name "chap:algoritmos de chequeo"

\end_inset


\end_layout

\begin_layout Standard
Una clase 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de estructuras será 
\emph on
disjunta
\emph default
 si dadas 
\begin_inset Formula $\mathbf{A},\mathbf{B}\in\mathcal{K}$
\end_inset

 se tiene que 
\begin_inset Formula $A\cap B\neq\emptyset$
\end_inset

 si y solo si 
\begin_inset Formula $\mathbf{A}=\mathbf{B}$
\end_inset

.
 La clase 
\begin_inset Formula $\mathcal{K}$
\end_inset

 será 
\emph on
normal
\emph default
 si es disjunta, finita y cada una de las estructuras en 
\begin_inset Formula $\mathcal{K}$
\end_inset

 es finita.
\end_layout

\begin_layout Section
Preprocesamiento
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "lem:quito sombras"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden, 
\begin_inset Formula $\mathcal{K}$
\end_inset

 una clase finita de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras finitas y 
\begin_inset Formula $\mathbf{A},\tilde{\mathbf{A}}\in\mathcal{K}$
\end_inset

, con 
\begin_inset Formula $\mathbf{A}\neq\tilde{\mathbf{A}}$
\end_inset

, tales que hay un 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismo 
\begin_inset Formula $\funcion[\gamma]A{\tilde{A}}$
\end_inset

.
 Entonces para toda 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 y toda 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula 
\begin_inset Formula $\varphi$
\end_inset

 son equivalentes:
\end_layout

\begin_deeper
\begin_layout Enumerate
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Enumerate
\begin_inset Formula $\gamma$
\end_inset

 es un 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-isomorfismo y 
\begin_inset Formula $\varphi$
\end_inset

 define a 
\begin_inset Formula $R$
\end_inset

 en 
\begin_inset Formula $\mathcal{K}-\{\tilde{\mathbf{A}}\}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
1
\begin_inset Formula $\Rightarrow$
\end_inset

2) Trivial.
\end_layout

\begin_layout Proof
2
\begin_inset Formula $\Rightarrow$
\end_inset

1) 
\begin_inset Formula $\tilde{\mathbf{A}}\vDash R\left[\bar{a}\right]$
\end_inset

 sii 
\begin_inset Formula $\mathbf{A}\vDash R\left[\gamma^{-1}\left(\bar{a}\right)\right]$
\end_inset

 sii 
\begin_inset Formula $\mathbf{A}\vDash\varphi\left[\gamma^{-1}\left(\bar{a}\right)\right]$
\end_inset

 sii 
\begin_inset Formula $\tilde{\mathbf{A}}\vDash\varphi\left[\bar{a}\right]$
\end_inset

.
 
\end_layout

\begin_layout Standard
Independientemente del tipo de definibilidad que uno quiera chequear el
 Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:quito sombras"

\end_inset

 sugiere que uno puede comenzar por reducir 
\begin_inset Formula $\mathcal{K}$
\end_inset

 eliminando copias de estructuras 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-isomorfas.
 
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Preprocesamiento
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:preprocesamiento"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in\mathcal{K}-\left\{ \mathbf{A}\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
If{
\end_layout

\end_inset

hay 
\begin_inset Formula $\text{\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}}$
\end_inset

 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es un 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-isomorfismo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{K}=\mathcal{K}-\left\{ \mathbf{B}\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
Else
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $R$
\end_inset

 no es definible y 
\begin_inset Formula $\gamma$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\mathcal{K}$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\mathcal{K}$
\end_inset

 sin estructuras 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfas
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Notar que los isomorfismos revisados por este algoritmo deben ser necesariamente
 revisados para comprobar definibilidad en cualquiera de los formatos.
 La ventaja de chequear estos en primer lugar es que podría reducirse la
 clase 
\begin_inset Formula $\mathcal{K}$
\end_inset

 en el proceso.
\end_layout

\begin_layout Standard
Se obtiene una pequeña ganancia al chequear por 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismos y recién descubierto uno de estos comprobar si es un 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-isomorfismo.
 Observar además que, para poder aplicar los teoremas de definibilidad de
 las secciones 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Definibilidad-abierta"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Definibilidad-positiva y por conjuncion de atomicas"

\end_inset

, habría que verificar que cada uno de los 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismos entre estructuras de 
\begin_inset Formula $\mathcal{K}$
\end_inset

 preserven 
\begin_inset Formula $R$
\end_inset

 y vemos que basta con chequear sólo uno.
\end_layout

\begin_layout Subsection
Ejemplo de ejecución
\end_layout

\begin_layout Standard
Supongamos que 
\begin_inset Formula $\mathcal{K}$
\end_inset

 esta dado por la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:k sin preprocesamiento"

\end_inset

, donde cada tipo de isomorfismo esta representado por una forma geométrica.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset Formula $\mathcal{K}$
\end_inset

 antes del preprocesamiento
\end_layout

\end_inset


\begin_inset Graphics
	filename img/k sin preprocesamiento.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:k sin preprocesamiento"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
\begin_inset Formula $\mathcal{K}$
\end_inset

 luego del preprocesamiento
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename img/k preprocesado.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:k preprocesado"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
El algoritmo de preprocesamiento detecta el 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismo entre los dos octagonos y revisa que sea tambien un 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-isomorfismo, dando lugar a la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:k preprocesado"

\end_inset

, donde la flecha es el isomorfismo a chequear.
\end_layout

\begin_layout Section
Definibilidad abierta
\end_layout

\begin_layout Standard
Dados 
\begin_inset Formula $\mathcal{F}_{0}$
\end_inset

 y 
\begin_inset Formula $\mathcal{F}$
\end_inset

 dos conjuntos de funciones, diremos que 
\begin_inset Formula $\mathcal{F}_{0}$
\end_inset

 genera a 
\begin_inset Formula $\mathcal{F}$
\end_inset

 si 
\begin_inset Formula $\mathcal{F}_{0}\subseteq\mathcal{F}$
\end_inset

 y para toda 
\begin_inset Formula $f\in\mathcal{F}$
\end_inset

 hay 
\begin_inset Formula $\enumeracion[][f]\in\mathcal{F}_{0}$
\end_inset

(quizás repetidas) tales que 
\begin_inset Formula $f=f_{1}\circ\cdots\circ f_{n}$
\end_inset

.
\end_layout

\begin_layout Standard
Dado un conjunto 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de estructuras definimos los siguientes conjuntos:
\begin_inset Formula 
\[
\iso{\mathcal{K}}=\left\{ \gamma:\gamma\textnormal{ isomorfismo de }\mathbf{A}\textnormal{ en }\mathbf{B}\textnormal{ con }\mathbf{A},\mathbf{B}\in\mathcal{K}\right\} 
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
\subiso{\mathcal{K}}=\left\{ \gamma:\gamma\textnormal{ isomorfismo de }\mathbf{A}_{0}\textnormal{ en }\mathbf{B}_{0}\textnormal{ con }\mathbf{A}_{0},\mathbf{B}_{0}\in\subestr{\mathcal{K}}\right\} 
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
\hom{\mathcal{K}}=\left\{ \gamma:\gamma\textnormal{ homomorfismo de }\mathbf{A}\textnormal{ en }\mathbf{B}\textnormal{ con }\mathbf{A},\mathbf{B}\in\mathcal{K}\right\} 
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
\subhom{\mathcal{K}}=\left\{ \gamma:\gamma\textnormal{ homomorfismo de }\mathbf{A}_{0}\textnormal{ en }\mathbf{B}_{0}\textnormal{ con }\mathbf{A}_{0},\mathbf{B}_{0}\in\subestr{\mathcal{K}}\right\} 
\]

\end_inset


\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "lem:categoria abierta completa alcanza"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden tales que 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 es un símbolo de relación n-ario y 
\begin_inset Formula $\mathcal{K}$
\end_inset

 un conjunto normal de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras.
 Entonces si cada 
\begin_inset Formula $\gamma\in\subiso{\mathcal{K}_{\mathcal{L}}}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

, 
\begin_inset Formula $R$
\end_inset

 es definible por una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula abierta en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Proof
Directo del Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta"

\end_inset

.
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:construccion de constelacion abierta"

\end_inset

Sea 
\begin_inset Formula $\mathcal{K}$
\end_inset

 un conjunto normal de 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructuras donde no hay estructuras isomorfas.
 Sea 
\begin_inset Formula $\mathcal{S}\subseteq\subestr{\mathcal{K}}$
\end_inset

 tal que contiene exactamente un representante por cada tipo de isomorfismo
 en 
\begin_inset Formula $S(\mathcal{K})$
\end_inset

.
 Sea 
\begin_inset Formula $\mathcal{F}\subseteq\subiso{\mathcal{K}}$
\end_inset

 tal que:
\end_layout

\begin_deeper
\begin_layout Enumerate
para cada 
\begin_inset Formula $\mathbf{S}\in\mathcal{S}$
\end_inset

 se tiene que 
\begin_inset Formula $\aut{\mathbf{S}}\subseteq\mathcal{F}$
\end_inset

,
\end_layout

\begin_layout Enumerate
para cada 
\begin_inset Formula $\mathbf{A}\in S(\mathcal{K})-\mathcal{S}$
\end_inset

 
\shape italic
hay 
\begin_inset Formula $\gamma,\gamma^{-1}\in\mathcal{F}$
\end_inset

 para algún isomorfismo 
\begin_inset Formula $\gamma$
\end_inset

 de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 en el representante del tipo de isomorfismo de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 en 
\begin_inset Formula $\mathcal{S}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Theorem
Entonces 
\begin_inset Formula $\mathcal{F}$
\end_inset

 genera 
\begin_inset Formula $\subiso{\mathcal{K}}$
\end_inset

.
\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\gamma\in\subiso{\mathcal{K}}$
\end_inset

, entonces 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}_{0}\leq\mathbf{A}}{\mathbf{B}_{0}\leq\mathbf{B}}$
\end_inset

 isomorfismo, con 
\begin_inset Formula $\mathbf{A},\mathbf{B}\in\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Proof
Si 
\begin_inset Formula $\mathbf{A}_{0},\mathbf{B}_{0}\in\mathcal{S}$
\end_inset

, como no hay estructuras isomorfas en 
\begin_inset Formula $\mathcal{S}$
\end_inset

, 
\begin_inset Formula $\mathbf{A}_{0}=\mathbf{B}_{0}$
\end_inset

, por lo tanto 
\begin_inset Formula $\gamma\in\aut{\mathbf{A}_{0}}\subseteq\mathcal{F}$
\end_inset

.
\end_layout

\begin_layout Proof
Si 
\begin_inset Formula $\mathbf{A}_{0}\in\mathcal{S}$
\end_inset

 pero 
\begin_inset Formula $\mathbf{B}_{0}\notin\mathcal{S}$
\end_inset

, entonces 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 es el representante de 
\begin_inset Formula $\mathbf{B}_{0}$
\end_inset

 en 
\begin_inset Formula $\mathcal{S}$
\end_inset

, y por lo tanto hay un isomorfismo 
\begin_inset Formula $\funcion[\delta]{\mathbf{B}_{0}}{\mathbf{A}_{0}}$
\end_inset

 tal que 
\begin_inset Formula $\delta,\delta^{-1}\in\mathcal{F}$
\end_inset

.
 Claramente 
\begin_inset Formula $\delta\gamma=\lambda\in\aut{\mathbf{A}_{0}}\subseteq\mathcal{F}$
\end_inset

, por lo tanto 
\begin_inset Formula $\gamma=\delta^{-1}\lambda$
\end_inset

.
\end_layout

\begin_layout Proof
Si 
\begin_inset Formula $\mathbf{A}_{0},\mathbf{B}_{0}\notin\mathcal{S}$
\end_inset

, hay 
\begin_inset Formula $\mathbf{C}_{0}\in\mathcal{S}$
\end_inset

 que es representante de 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 y 
\begin_inset Formula $\mathbf{B}_{0}$
\end_inset

.
 Luego hay 
\begin_inset Formula $\funcion[\delta]{\mathbf{A}_{0}}{\mathbf{C}_{0}}$
\end_inset

 y 
\begin_inset Formula $\funcion[\delta']{\mathbf{B}_{0}}{\mathbf{C}_{0}}$
\end_inset

 tales que 
\begin_inset Formula $\delta,\delta^{-1},\delta',\delta'^{-1}\in\mathcal{F}$
\end_inset

.
 Claramente 
\begin_inset Formula $\delta'\gamma\delta^{-1}=\lambda\in\aut{\mathbf{C}_{0}}\subseteq\mathcal{F}$
\end_inset

, por lo tanto 
\begin_inset Formula $\gamma=\delta'^{-1}\lambda\delta$
\end_inset

.
\end_layout

\begin_layout Corollary
\begin_inset CommandInset label
LatexCommand label
name "cor:preservar en la constelacion abierta es ser abierta definible"

\end_inset

Sean 
\begin_inset Formula $\mathcal{L}\subseteq\mathcal{L}'$
\end_inset

 lenguajes de primer orden tales que 
\begin_inset Formula $R\in\mathcal{L}'-\mathcal{L}$
\end_inset

 es un símbolo de relación n-ario y 
\begin_inset Formula $\mathcal{K}$
\end_inset

 un conjunto normal de 
\begin_inset Formula $\mathcal{L}'$
\end_inset

-estructuras.
 Supongamos 
\begin_inset Formula $\mathcal{F}$
\end_inset

 es como en el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset

 para la familia 
\begin_inset Formula $\mathcal{K}_{\mathcal{L}}$
\end_inset

.
 Entonces si cada 
\begin_inset Formula $\gamma\in\mathcal{F}$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

, se tiene que 
\begin_inset Formula $R$
\end_inset

 es definible por una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-fórmula abierta en 
\begin_inset Formula $\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Proof
Directa ya que composición de funciones que preservan, preserva y Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:categoria abierta completa alcanza"

\end_inset

.
\end_layout

\begin_layout Standard
El Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset

 sugiere un subconjunto de isomorfismos que bastan para revisar definibilidad
 abierta a través del Corolario 
\begin_inset CommandInset ref
LatexCommand ref
reference "cor:preservar en la constelacion abierta es ser abierta definible"

\end_inset

.
\end_layout

\begin_layout Standard
En el Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:constelacion abierta"

\end_inset

 se construye 
\begin_inset Formula $\mathcal{S}$
\end_inset

 a la vez que se van revisando los isomorfismos en 
\begin_inset Formula $\mathcal{F}$
\end_inset

.
 Para esto recorremos las estructuras en 
\begin_inset Formula $\mathcal{K}$
\end_inset

 de mayor a menor tamaño.
 Al momento de procesar una 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

 lo primero que se hace es buscar un 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismo 
\begin_inset Formula $\gamma$
\end_inset

 entre 
\begin_inset Formula $\mathbf{A}$
\end_inset

 y un miembro 
\begin_inset Formula $\mathcal{S}$
\end_inset

.
 Si un tal 
\begin_inset Formula $\gamma$
\end_inset

 existe, tanto 
\begin_inset Formula $\gamma$
\end_inset

 como su inversa son revisados (miembros de 
\begin_inset Formula $\mathcal{F}$
\end_inset

 correspondientes al punto (2) del Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset

).
 Si no hay un tal 
\begin_inset Formula $\gamma$
\end_inset

, la estructura 
\begin_inset Formula $\mathbf{A}$
\end_inset

 es agregada a 
\begin_inset Formula $\mathcal{S}$
\end_inset

 y sus 
\begin_inset Formula $\mathcal{L}$
\end_inset

-automorfismos son revisados (miembros de 
\begin_inset Formula $\mathcal{F}$
\end_inset

 correspondientes al punto (1) del Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset

).
 A continuación las subestructuras de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 son procesadas de la misma manera.
\end_layout

\begin_layout Standard
Notar que en la linea 
\begin_inset CommandInset ref
LatexCommand ref
reference "lin:abierta-auto2"

\end_inset

 no se necesita revisar si los automorfismos son 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-automorfismos ya que, como se recorren todos su inversa también es revisada
 por preservación.
\end_layout

\begin_layout Standard
Además, una vez que una subestructura resulta ser 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-isomorfa a un representante en 
\begin_inset Formula $\mathcal{S}$
\end_inset

, sabemos que todas sus subestructuras ya tienen representante en 
\begin_inset Formula $\mathcal{S}$
\end_inset

 y que los isomorfismos internos preservan.
 Esto permite disminuir la cantidad de subestructuras a revisar, como se
 ve en la linea 
\begin_inset CommandInset ref
LatexCommand ref
reference "lin:abierta-saco-subestructuras"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Note Note
status collapsed

\begin_layout Plain Layout
Me parece que el algoritmo quedaría mas fácil de leer si uno pone primero
 los casos de la no preservación de 
\begin_inset Formula $\gamma$
\end_inset

 
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Chequeo de definibilidad abierta
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:constelacion abierta"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{S}=\emptyset$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

, desde la mayor a la menor cardinalidad
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $Sub=\left[\mathbf{C}:\mathbf{C}\in\subestrl{\mathbf{A}}{\mathcal{L}},\textnormal{ de la mayor a menor cardinalidad}\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in Sub$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset

iso 
\begin_inset Formula $=$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Call{
\end_layout

\end_inset

tieneRepresentante
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}_{0},\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
If{
\end_layout

\end_inset

iso 
\begin_inset Formula $\neq$
\end_inset

 Null
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
If{
\end_layout

\end_inset

iso no es un 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-isomorfismo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset

iso 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $Sub=\left[\mathbf{C}:\mathbf{C}\in Sub\textnormal{ tal que }C\nsubseteq B\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "lin:abierta-saco-subestructuras"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
Else
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{S}=\mathcal{S}\cup\left\{ \mathbf{B}\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\alpha\in Aut_{\mathcal{L}}(\mathbf{B})$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 no preserva 
\begin_inset Formula $R$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "lin:abierta-auto2"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

					
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $R$
\end_inset

 es abierta-definible
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Statex
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Function{
\end_layout

\end_inset

tieneRepresentante
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}_{0},\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{S}\in\mathcal{S}$
\end_inset

, con 
\begin_inset Formula $\left|\mathbf{A}_{0}\right|=\left|\mathbf{S}\right|$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
If{
\end_layout

\end_inset

hay 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}_{0}}{\mathbf{S}}$
\end_inset

 isomorfismo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es isomorfismo con el representante
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset

Null 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

No tiene representante
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFunction
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Note Note
status collapsed

\begin_layout Plain Layout
Está muy bueno que queda clarísimo siguiendo el código que, si uno no planea
 reutilizar la información, no hace falta guardar los mapeos, sólo las estructur
as de 
\begin_inset Formula $\mathcal{K}_{0}$
\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para esquematizar la ganancia obtenida en cuanto al chequeo de una menor
 cantidad de flechas podemos observar en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:categoria abierta"

\end_inset

 
\begin_inset Formula $\mathcal{K}$
\end_inset

 junto con todas las flechas que deberían ser revisadas segun el Teorema
 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta"

\end_inset

.
 Mientras que en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:constelacion abierta"

\end_inset

, se puede ver las flechas que bastan para comprobar definibilidad abierta
 segun el Corolario 
\begin_inset CommandInset ref
LatexCommand ref
reference "cor:preservar en la constelacion abierta es ser abierta definible"

\end_inset

 a la manera del algoritmo anterior.
\end_layout

\begin_layout Standard
Notar que en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:constelacion abierta"

\end_inset

, la aplicacion del Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:preprocesamiento"

\end_inset

 (Preprocesamiento) genera que uno de los octagonos aparezca como 
\emph on
sombra
\emph default
 del otro y baste solo revisar el isomorfismo entre ellos por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:quito sombras"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Flechas a revisar segun el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename img/categoria abierta.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:categoria abierta"

\end_inset


\end_layout

\end_inset


\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Flechas que bastan segun el Corolario 
\begin_inset CommandInset ref
LatexCommand ref
reference "cor:preservar en la constelacion abierta es ser abierta definible"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename img/constelacion abierta.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:constelacion abierta"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Definibilidad abierta-positiva
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:construccion de constelacion abierta positiva"

\end_inset

Sea 
\begin_inset Formula $\mathcal{K}$
\end_inset

 un conjunto normal de 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructuras donde no hay estructuras isomorfas.
 Sea 
\begin_inset Formula $\mathcal{S}\subseteq\subestr{\mathcal{K}}$
\end_inset

 tal que contiene exactamente un representante por cada tipo de isomorfismo
 en 
\begin_inset Formula $\subestr{\mathcal{K}}$
\end_inset

.
 Sea 
\begin_inset Formula $\mathcal{H}\subseteq\subhom{\mathcal{K}}$
\end_inset

 tal que:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $\mathcal{F}\subseteq\mathcal{H}$
\end_inset

 con 
\begin_inset Formula $\mathcal{F}$
\end_inset

 como en el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset

,
\end_layout

\begin_layout Itemize
para cada 
\begin_inset Formula $\mathbf{A},\mathbf{B}\in\mathcal{S}$
\end_inset

 
\shape italic
todo 
\begin_inset Formula $\funcion[h]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 homomorfismo sobreyectivo esta en 
\begin_inset Formula $\mathcal{H}$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Theorem
Entonces 
\begin_inset Formula $\mathcal{H}$
\end_inset

 genera 
\begin_inset Formula $\subhom{\mathcal{K}}$
\end_inset

.
\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $h\in\subhom{\mathcal{K}}$
\end_inset

, entonces 
\begin_inset Formula $\funcion[h]{\mathbf{A}_{0}\leq\mathbf{A}}{\mathbf{B}_{0}\leq\mathbf{B}}$
\end_inset

 homomorfismo, con 
\begin_inset Formula $\mathbf{A},\mathbf{B}\in\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Proof
Si 
\begin_inset Formula $\mathbf{A}_{0},h\left(\mathbf{A}_{0}\right)\in\mathcal{S}$
\end_inset

, 
\begin_inset Formula $h$
\end_inset

 es homomorfismo sobreyectivo entre estructuras de 
\begin_inset Formula $\mathcal{S}$
\end_inset

, por lo que 
\begin_inset Formula $h\in\mathcal{H}$
\end_inset

.
\end_layout

\begin_layout Proof
Si 
\begin_inset Formula $\mathbf{A}_{0}\in\mathcal{S}$
\end_inset

 pero 
\begin_inset Formula $h\left(\mathbf{A}_{0}\right)\notin\mathcal{S}$
\end_inset

, hay 
\begin_inset Formula $\mathbf{S}$
\end_inset

 representante de 
\begin_inset Formula $h\left(\mathbf{A}_{0}\right)$
\end_inset

 en 
\begin_inset Formula $\mathcal{S}$
\end_inset

 y un isomorfismo 
\begin_inset Formula $\funcion[\delta]{h\left(\mathbf{A}_{0}\right)}{\mathbf{S}}$
\end_inset

 tal que 
\begin_inset Formula $\delta,\delta^{-1}\in\mathcal{F}\subseteq\mathcal{H}$
\end_inset

.
 Luego 
\begin_inset Formula $\delta^{-1}h=f$
\end_inset

 donde 
\begin_inset Formula $f$
\end_inset

 es un homomorfismo claramente sobreyectivo de 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 en 
\begin_inset Formula $\mathbf{S}$
\end_inset

, por lo que 
\begin_inset Formula $f\in\mathcal{H}$
\end_inset

.
 Finalmente 
\begin_inset Formula $h=\delta f$
\end_inset

.
\end_layout

\begin_layout Proof
Si 
\begin_inset Formula $\mathbf{A}_{0},h\left(\mathbf{A}_{0}\right)\notin\mathcal{S}$
\end_inset

, hay respectivos 
\begin_inset Formula $\mathbf{S},\mathbf{S}'\in\mathcal{S}$
\end_inset

 representantes de 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 y 
\begin_inset Formula $h\left(\mathbf{A}_{0}\right)$
\end_inset

.
 Luego hay 
\begin_inset Formula $\funcion[\delta]{\mathbf{A}_{0}}{\mathbf{S}}$
\end_inset

 y 
\begin_inset Formula $\funcion[\delta']{h\left(\mathbf{A}_{0}\right)}{\mathbf{S}'}$
\end_inset

 tales que 
\begin_inset Formula $\delta,\delta^{-1},\delta',\delta'^{-1}\in\mathcal{F}\subseteq\mathcal{H}$
\end_inset

.
 Luego 
\begin_inset Formula $\delta'h\delta^{-1}=f$
\end_inset

 donde 
\begin_inset Formula $f$
\end_inset

 es un homomorfismo claramente sobreyectivo de 
\begin_inset Formula $\mathbf{S}$
\end_inset

 en 
\begin_inset Formula $\mathbf{S}'$
\end_inset

, por lo que 
\begin_inset Formula $f\in\mathcal{H}$
\end_inset

.
 Finalmente 
\begin_inset Formula $h=\delta'^{-1}f\delta$
\end_inset

.
\end_layout

\begin_layout Proof
\begin_inset Note Note
status open

\begin_layout Plain Layout
Si al haber corrido durante la abierta estándar antes no encontré ningún
 homomorfismo inyectivo, no significa que no vaya a haber en el otro sentido.
\end_layout

\end_inset


\end_layout

\begin_layout Theorem
\begin_inset Argument 1
status open

\begin_layout Plain Layout
Las estructuras finitas cumplen la propiedad de Cantor-Bernstein
\end_layout

\end_inset

Dadas 
\begin_inset Formula $\mathbf{A}$
\end_inset

 y 
\begin_inset Formula $\mathbf{B}$
\end_inset

 estructuras finitas, si hay 
\begin_inset Formula $f:A\rightarrow B$
\end_inset

 y 
\begin_inset Formula $g:B\rightarrow A$
\end_inset

 homomorfismos inyectivos entonces hay un 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 isomorfismo.
\end_layout

\begin_layout Proof
Sean 
\begin_inset Formula $\mathbf{A},\mathbf{B}$
\end_inset

 estructuras finitas y 
\begin_inset Formula $f:A\rightarrow B$
\end_inset

 y 
\begin_inset Formula $g:B\rightarrow A$
\end_inset

 homomorfismos inyectivos.
 Notar que 
\begin_inset Formula $gf$
\end_inset

 es una permutación de 
\begin_inset Formula $\mathbf{A}$
\end_inset

, y como 
\begin_inset Formula $\mathbf{A}$
\end_inset

 es finito hay 
\begin_inset Formula $k\geq1$
\end_inset

 tal que 
\begin_inset Formula $(gf)^{k}=\mathrm{Id}_{A}$
\end_inset

.
 Luego como 
\begin_inset Formula $g^{-1}=f(gf)^{k-1}$
\end_inset

 vemos que 
\begin_inset Formula $g^{-1}$
\end_inset

 es homomorfismo.
\end_layout

\begin_layout Standard
Por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta positiva"

\end_inset

, luego de aplicar el Algoritmo
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:preprocesamiento"

\end_inset

 de preprocesamiento y el Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:constelacion abierta"

\end_inset

 de definibilidad abierta.
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Chequeo de definibilidad abierta-positiva
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:constelacion abierta positiva"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{S}=\emptyset$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

, desde la mayor a la menor cardinalidad
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $Sub=\left[\mathbf{C}:\mathbf{C}\in\subestrl{\mathbf{A}}{\mathcal{L}},\textnormal{ de la mayor a menor cardinalidad}\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in Sub$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\left(\textnormal{iso,ce}\right)=$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Call{
\end_layout

\end_inset

tieneRepresentante
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}_{0},\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\textnormal{ce}\neq\textnormal{null}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset

ce 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

 ce es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\textnormal{iso}\neq\textnormal{null}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
If{
\end_layout

\end_inset

iso no es un 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-isomorfismo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset

iso 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $Sub=\left[\mathbf{C}:\mathbf{C}\in Sub\textnormal{ tal que }C\nsubseteq B\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "lin:abierta-saco-subestructuras-1"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
Else
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{S}=\mathcal{S}\cup\left\{ \mathbf{B}\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\alpha\in Aut_{\mathcal{L}}(\mathbf{B})$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 no preserva 
\begin_inset Formula $R$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "lin:abierta-auto2-1-1"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

					
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}\in\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in\mathcal{S}$
\end_inset

, con 
\begin_inset Formula $\left|\mathbf{B}\right|<\left|\mathbf{A}\right|$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 con 
\begin_inset Formula $\gamma$
\end_inset

 homomorfismo sobreyectivo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 no preserva 
\begin_inset Formula $R$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $R$
\end_inset

 es definible por una abierta positiva
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Statex
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Function{
\end_layout

\end_inset

tieneRepresentante
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}_{0},\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{S}\in\mathcal{S}$
\end_inset

, con 
\begin_inset Formula $\left|\mathbf{A}_{0}\right|=\left|\mathbf{S}\right|$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $bihomo=False$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\funcion[\gamma]{\mathbf{A}_{0}}{\mathbf{S}}$
\end_inset

 con 
\begin_inset Formula $\gamma$
\end_inset

 homomorfismo biyectivo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $bihomo=True$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es un 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismo, con 
\begin_inset Formula $\mathbf{S}\in\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\left(\gamma,\textnormal{Null}\right)$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es isomorfismo con el representante
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
Else
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 no preserva 
\begin_inset Formula $R$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\left(\textnormal{Null},\gamma\right)$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\lnot bihomo$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\funcion[\gamma]{\mathbf{S}}{\mathbf{A}_{0}}$
\end_inset

 con 
\begin_inset Formula $\gamma$
\end_inset

 homomorfismo biyectivo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 no preserva 
\begin_inset Formula $R$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\left(\textnormal{Null},\gamma\right)$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\left(\textnormal{Null},\textnormal{Null}\right)$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

No tiene representante
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFunction
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para esquematizar la ganancia obtenida en cuanto al chequeo de una menor
 cantidad de flechas podemos observar en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:categoria abierta positiva"

\end_inset

 
\begin_inset Formula $\mathcal{K}$
\end_inset

 junto con todas las flechas que deberían ser revisadas segun el Teorema
 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta positiva"

\end_inset

.
 Mientras que en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:constelacion abierta positiva"

\end_inset

, se puede ver las flechas que bastan para comprobar definibilidad abierta
 segun el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta positiva"

\end_inset

 a la manera del algoritmo anterior.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Flechas a revisar segun el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad abierta positiva"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename img/categoria abierta positiva.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:categoria abierta positiva"

\end_inset


\end_layout

\end_inset


\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Flechas que bastan segun el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta positiva"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename img/constelacion abierta positiva.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:constelacion abierta positiva"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Definibilidad de primer orden
\end_layout

\begin_layout Standard
Por el teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibiliad de primer orden"

\end_inset

, luego de haber aplicado el Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:preprocesamiento"

\end_inset

 para preprocesamiento, solo basta con revisar los automorfimos para 
\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Chequeo de definibilidad de primer orden
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:constelacion primer orden"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\alpha\in Aut_{\mathcal{L}}(\mathbf{A})$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 no es un 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-automorfismo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\alpha$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $R$
\end_inset

 es definible en primer orden
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para esquematizar la ganancia obtenida en cuanto al chequeo de una menor
 cantidad de flechas podemos observar en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:categoria primer orden"

\end_inset

 
\begin_inset Formula $\mathcal{K}$
\end_inset

 junto con todas las flechas que deberían ser revisadas segun el Teorema
 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibiliad de primer orden"

\end_inset

.
 Mientras que en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:constelacion primer orden"

\end_inset

, se puede ver las flechas que bastan para comprobar definibilidad abierta
 aprovechando el preprocesamiento segun el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:quito sombras"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Flechas a revisar segun el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibiliad de primer orden"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename img/categoria primer orden.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:categoria primer orden"

\end_inset


\end_layout

\end_inset


\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Flechas que bastan segun el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:quito sombras"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename img/constelacion de primer orden.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:constelacion primer orden"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Definibilidad existencial
\end_layout

\begin_layout Standard
Por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibiliad existencial"

\end_inset

, luego de aplicar el Algoritmo
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:preprocesamiento"

\end_inset

 de preprocesamiento, solo basta con revisar los embeddings entre 
\begin_inset Formula $\mathbf{A},\mathbf{B}\in\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Chequeo de definibilidad existencial
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:constelacion existencial"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in\mathcal{K}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\gamma\in Emb_{\mathcal{L}}\left(\mathbf{A},\mathbf{B}\right)$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 no es un 
\begin_inset Formula $\mathcal{L}\cup\left\{ R\right\} $
\end_inset

-embedding
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

 
\begin_inset Formula $\gamma$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $R$
\end_inset

 es existencial definible
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para esquematizar la ganancia obtenida en cuanto al chequeo de una menor
 cantidad de flechas podemos observar en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:categoria existencial"

\end_inset

 
\begin_inset Formula $\mathcal{K}$
\end_inset

 junto con todas las flechas que deberían ser revisadas segun el Teorema
 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibiliad existencial"

\end_inset

.
 Mientras que en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:constelacion existencial"

\end_inset

, se puede ver las flechas que bastan para comprobar definibilidad abierta
 aprovechando el preprocesamiento segun el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:quito sombras"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Flechas a revisar segun el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibiliad existencial"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename img/categoria existencial.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:categoria existencial"

\end_inset


\end_layout

\end_inset


\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Flechas que bastan segun el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:quito sombras"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename img/constelacion existencial.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:constelacion existencial"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Definibilidad existencial-positiva
\end_layout

\begin_layout Standard
Por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad existencial positiva"

\end_inset

, luego de aplicar el Algoritmo
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:preprocesamiento"

\end_inset

 de preprocesamiento, solo basta con revisar los homomorfismos cada par
 
\begin_inset Formula $\mathbf{A},\mathbf{B}\in\mathcal{K}$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Chequeo de definibilidad existencial-positiva
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:constelacion existencial positiva"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}\in\mathcal{K}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in\mathcal{K}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\alpha\in Hom_{\mathcal{L}}(\mathbf{A},\mathbf{B})$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $h$
\end_inset

 no preserva 
\begin_inset Formula $R$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

				
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $h$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

 
\begin_inset Formula $h$
\end_inset

 es contraejemplo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $R$
\end_inset

 es existencial positiva definible
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para esquematizar la ganancia obtenida en cuanto al chequeo de una menor
 cantidad de flechas podemos observar en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:categoria existencial positiva"

\end_inset

 
\begin_inset Formula $\mathcal{K}$
\end_inset

 junto con todas las flechas que deberían ser revisadas segun el Teorema
 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad existencial positiva"

\end_inset

.
 Mientras que en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:constelacion existencial positiva"

\end_inset

, se puede ver las flechas que bastan para comprobar definibilidad abierta
 aprovechando el preprocesamiento segun el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:quito sombras"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Flechas a revisar segun el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:definibilidad existencial positiva"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename img/categoria existencial positiva.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:categoria existencial positiva"

\end_inset


\end_layout

\end_inset


\begin_inset Float figure
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Flechas que bastan segun el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:quito sombras"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename img/constelacion existencial positiva.svg
	scale 40

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:constelacion existencial positiva"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Detección de homomorfismos
\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
Definición de CSP, Minion, constraints que le pasamos a Minion
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
CSP
\end_layout

\begin_layout Standard
Como aparece en 
\begin_inset CommandInset citation
LatexCommand cite
key "wiki:CSP"

\end_inset

, un CSP (constraint satisfaction problem) es definido como una terna 
\begin_inset Formula $\left\langle X,D,C\right\rangle $
\end_inset

, donde 
\begin_inset Formula 
\[
X=\{X_{1},\ldots,X_{n}\}\textnormal{ es un conjunto de variables}
\]

\end_inset


\begin_inset Formula 
\[
D=\{D_{1},\ldots,D_{n}\}\textnormal{ es un conjunto con los respectivos dominios de los valores}
\]

\end_inset


\begin_inset Formula 
\[
C=\{C_{1},\ldots,C_{m}\}\textnormal{ es un conjunto de restricciones}
\]

\end_inset


\end_layout

\begin_layout Standard
Cada variable 
\begin_inset Formula $X_{i}$
\end_inset

 se mueve en los valores del respectivo dominio no vacío 
\begin_inset Formula $D_{i}$
\end_inset

.
 Cada restricción 
\begin_inset Formula $C_{j}\in C$
\end_inset

 es un par 
\begin_inset Formula $\left\langle t_{j},R_{j}\right\rangle $
\end_inset

, donde 
\begin_inset Formula $t_{j}$
\end_inset

 es una 
\begin_inset Formula $k$
\end_inset

-upla de variables y 
\begin_inset Formula $R_{j}$
\end_inset

 es una relación 
\begin_inset Formula $k$
\end_inset

-aria en el correspondiente dominio de cada variable.
 Una valuación sobre las variables es una función desde un subconjunto de
 las variables a un particular conjunto de valores en los correspondientes
 dominios de valores.
 Una valuación 
\begin_inset Formula $v$
\end_inset

 satisface la restricción 
\begin_inset Formula $\langle t_{j},R_{j}\rangle$
\end_inset

 si los valores asignados a las variables 
\begin_inset Formula $t_{j}$
\end_inset

 satisfacen la relación 
\begin_inset Formula $R_{j}$
\end_inset

.
\end_layout

\begin_layout Standard
Una valuación es consistente si no viola ninguna de las restricciones.
 Una valuación es completa si incluye todas las variables.
 Una valuación es solución si es consistente y completa.
 En ese caso diremos que la valuación resuelve el CSP.
\end_layout

\begin_layout Standard

\end_layout

\begin_layout Subsection
CSP para calcular homomorfismos
\end_layout

\begin_layout Standard
Sean 
\begin_inset Formula $\mathbf{A}$
\end_inset

,
\begin_inset Formula $\mathbf{B}$
\end_inset

 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructuras, queremos encontrar homomorfismos de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 en 
\begin_inset Formula $\mathbf{B}$
\end_inset

 resolviendo una instancia de CSP.
 Tomamos 
\begin_inset Formula 
\[
X=\left\{ X_{i}:i\in A\right\} 
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
D_{i}=B
\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
C=C^{R}\cup C^{f}
\]

\end_inset

donde 
\begin_inset Formula $C^{R}$
\end_inset

 es tal que para cada 
\begin_inset Formula $R\in\mathcal{L}$
\end_inset

 n-aria, para cada 
\begin_inset Formula $\left(\enumeracion[][a]\right)\in R^{\mathbf{A}}$
\end_inset

, se da que 
\begin_inset Formula $\left(\left(\enumeracion[a_{n}][X][a_{1}]\right),R^{\mathbf{B}}\right)\in C^{R}$
\end_inset

 y 
\begin_inset Formula $C^{f}$
\end_inset

 es tal que para cada 
\begin_inset Formula $f\in\mathcal{L}$
\end_inset

 n-aria, para cada 
\begin_inset Formula $\left(\enumeracion[][a],a'\right)\in\grafico{f^{\mathbf{A}}}$
\end_inset

, se da que 
\begin_inset Formula $\left(\left(\enumeracion[a_{n}][X][a_{1}],X_{a'}\right),\grafico{f^{\mathbf{B}}}\right)\in C^{f}$
\end_inset

.
 Donde 
\begin_inset Formula $\grafico{f^{\mathbf{A}}}$
\end_inset

 es el gráfico de la función definido como 
\begin_inset Formula $\grafico{f^{\mathbf{A}}}=\left\{ \left(\enumeracion[][x],f^{\mathbf{A}}\left(\enumeracion[n]\right)\right):\left(\enumeracion[n][x]\right)\in A^{n}\right\} $
\end_inset

.
\end_layout

\begin_layout Standard
Supongamos que 
\begin_inset Formula $\funcion[V]XB$
\end_inset

 es una valuación solución de 
\begin_inset Formula $\left(X,D,C\right)$
\end_inset

, entonces el homomorfismo 
\begin_inset Formula $\gamma$
\end_inset

 determinado por 
\begin_inset Formula $V$
\end_inset

 será 
\begin_inset Formula $\gamma(a)=V(X_{a})$
\end_inset

.
\end_layout

\begin_layout Standard
Si además quisiéramos que el homomorfismo fuera inyectivo, bastaría con
 agregar una restricción 
\begin_inset Formula $\left(\left(\enumeracion[m][X]\right),\textnormal{para todo par }\left(i,j\right)\textnormal{ con }i\neq j\textnormal{ y }i,j\in\left\{ 1,\dots,m\right\} \textnormal{ se da que }X_{i}\neq X_{j}\right)$
\end_inset

, donde 
\begin_inset Formula $\enumeracion[m][X]$
\end_inset

 son todas las variables en 
\begin_inset Formula $X$
\end_inset

.
 Para que fuera sobreyectivo bastaría agregar 
\begin_inset Formula $\left(\left(\enumeracion[m][X]\right),\bigcup_{i=1}^{m}\left\{ X_{i}\right\} =B\right)$
\end_inset

.
\end_layout

\begin_layout Lemma
Sea 
\begin_inset Formula $\mathbf{A}$
\end_inset

 una estructura finita, entonces todo endomorfismo inyectivo de 
\begin_inset Formula $\mathbf{A}$
\end_inset

 es un automorfismo de 
\begin_inset Formula $\mathbf{A}$
\end_inset

.
\end_layout

\begin_layout Proof
Sea 
\begin_inset Formula $\gamma$
\end_inset

 un endomorfismo inyectivo de 
\begin_inset Formula $\mathbf{A}$
\end_inset

.
 Como 
\begin_inset Formula $A$
\end_inset

 es finito tenemos que 
\begin_inset Formula $\gamma$
\end_inset

 es sobre y además 
\begin_inset Formula $\gamma^{-1}=\gamma^{k}$
\end_inset

 para algún 
\begin_inset Formula $k\geq1$
\end_inset

.
\end_layout

\begin_layout Section
Generación de subestructuras
\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
Las generamos desde un subconjunto, no esta muy pensado así que se podría
 hacer mejor.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Dada una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructura 
\begin_inset Formula $\mathbf{A}$
\end_inset

, generamos sus subestructuras recorriendo 
\begin_inset Formula $\partes A$
\end_inset

, desde la mayor a la menor cardinalidad filtrando aquellos 
\begin_inset Formula $A_{0}\in\partes A$
\end_inset

 que no son cerrados bajo 
\begin_inset Formula $\mathcal{L}$
\end_inset

.
\end_layout

\begin_layout Standard
Además cuando detectamos que una subestructura 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 ya tiene representante en 
\begin_inset Formula $\mathcal{S}$
\end_inset

 durante nuestros algoritmos, disminuimos los subconjuntos a chequear, revisando
 solo 
\begin_inset Formula $\partes A-\partes{A_{0}}$
\end_inset

, ya que si 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 tiene representante en 
\begin_inset Formula $\mathcal{S}$
\end_inset

, entonces cada subestructura de 
\begin_inset Formula $\mathbf{A}_{0}$
\end_inset

 tiene representante en 
\begin_inset Formula $\mathcal{S}$
\end_inset

.
\end_layout

\begin_layout Standard

\end_layout

\begin_layout Chapter
Álgebras de Lindenbaum
\end_layout

\begin_layout Section
Definiciones e ideas básicas
\end_layout

\begin_layout Standard
Sea 
\begin_inset Formula $\mathbf{A}$
\end_inset

 una 
\begin_inset Formula $\mathcal{L}$
\end_inset

-estructura, y sea
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
\Sigma\in\left\{ \mathrm{Fo}\left(\mathcal{L}\right),\mathrm{E}\left(\mathcal{L}\right),\mathrm{E}^{+}\left(\mathcal{L}\right),\mathrm{Op}\left(\mathcal{L}\right),\mathrm{Op}^{+}\left(\mathcal{L}\right)\right\} .
\]

\end_inset


\begin_inset Note Note
status collapsed

\begin_layout Plain Layout
esta notacion esta explicada en algun lado?
\end_layout

\end_inset

Notar que la colección de relaciones 
\begin_inset Formula $n$
\end_inset

-arias definibles en 
\begin_inset Formula $\mathbf{A}$
\end_inset

 por fórmulas en 
\begin_inset Formula $\Sigma$
\end_inset

 es cerrada bajo uniones e intersecciones (y también bajo complementación
 cuando 
\begin_inset Formula $\Sigma\in\left\{ \mathrm{Fo}\left(\mathcal{L}\right),\mathrm{Op}\left(\mathcal{L}\right)\right\} $
\end_inset

).
 Llamaremos 
\emph on
Álgebra de Lindenbaum
\emph default
 (de relaciones 
\begin_inset Formula $n$
\end_inset

-arias definibles por 
\begin_inset Formula $\Sigma$
\end_inset

 en 
\begin_inset Formula $\mathbf{A}$
\end_inset

) al reticulado distributivo (o álgebra de Boole) resultante.
 Utilizaremos la siguiente notación:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\mathbf{Fo}_{n}(\mathbf{A})=$
\end_inset

 Álgebra de Boole de relaciones n-arias definibles en 
\begin_inset Formula $\mathbf{A}$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $\mathbf{E}_{n}(\mathbf{A})=$
\end_inset

 Reticulado de relaciones n-arias definibles por existenciales en 
\begin_inset Formula $\mathbf{A}$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $\mathbf{E}_{n}^{+}(\mathbf{A})=$
\end_inset

 Reticulado de relaciones n-arias definibles por existenciales positivas
 en 
\begin_inset Formula $\mathbf{A}$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $\mathbf{Op}_{n}(\mathbf{A})=$
\end_inset

 Álgebra de Boole de relaciones n-arias definibles por abiertas en 
\begin_inset Formula $\mathbf{A}$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $\mathbf{Op}_{n}^{+}(\mathbf{A})=$
\end_inset

 Reticulado de relaciones n-arias definibles por abiertas positivas en 
\begin_inset Formula $\mathbf{A}$
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
https://en.wikipedia.org/wiki/Stone's_representation_theorem_for_Boolean_algebras
\end_layout

\end_inset


\end_layout

\begin_layout Theorem
\begin_inset Argument 1
status open

\begin_layout Plain Layout
Teorema de representación de Stone
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "thm:representacion de stone, algebras de boole"

\end_inset

 Toda álgebra de Boole finita 
\begin_inset Formula $\mathbf{A}$
\end_inset

 es isomorfa al álgebra definida por 
\begin_inset Formula $\partes{At}$
\end_inset

 donde 
\begin_inset Formula $At\subseteq A$
\end_inset

 es el conjunto de átomos en 
\begin_inset Formula $\mathbf{A}$
\end_inset

.
\end_layout

\begin_layout --Separator--

\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
https://en.wikipedia.org/wiki/Birkhoff's_representation_theorem
\end_layout

\end_inset


\end_layout

\begin_layout Theorem
\begin_inset Argument 1
status open

\begin_layout Plain Layout
Teorema de representación de Birkhoff
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "thm:representacion de birkhoff, reticulados"

\end_inset

 Todo reticulado distributivo finito 
\begin_inset Formula $\mathbf{L}$
\end_inset

 es isomorfo al reticulado de conjuntos descendientes del poset de elementos
 join-irreducibles en 
\begin_inset Formula $\mathbf{L}$
\end_inset

.
\end_layout

\begin_layout --Separator--

\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
Cambie 
\begin_inset Quotes fld
\end_inset

si hay 
\begin_inset Formula $\bar{a}\in r$
\end_inset


\begin_inset Quotes frd
\end_inset

 por 
\begin_inset Quotes fld
\end_inset

si hay 
\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset


\begin_inset Quotes frd
\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Definimos:
\begin_inset Formula 
\[
\subhom{\mathbf{A}}=\left\{ \gamma:\gamma\textnormal{ homomorfismo de }\mathbf{A}_{0}\textnormal{ en }\mathbf{B}_{0}\textnormal{ con }\mathbf{A}_{0},\mathbf{B}_{0}\in\subestr{\mathbf{A}}\right\} 
\]

\end_inset


\begin_inset Formula 
\[
\subiso{\mathbf{A}}=\left\{ \gamma:\gamma\textnormal{ isomorfismo de }\mathbf{A}_{0}\textnormal{ en }\mathbf{B}_{0}\textnormal{ con }\mathbf{A}_{0},\mathbf{B}_{0}\in\subestr{\mathbf{A}}\right\} 
\]

\end_inset


\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "lem:ji sii uno generado abiertas"

\end_inset

Una relación 
\begin_inset Formula $r\subseteq A^{n}$
\end_inset

 es join-irreducible en 
\begin_inset Formula $\mathbf{Op}(\mathbf{A})$
\end_inset

 sii hay 
\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset

 tal que 
\begin_inset Formula $r=\{h(\bar{a}):h\in\subiso{\mathbf{A}}\}$
\end_inset

.
\begin_inset Note Note
status open

\begin_layout Plain Layout
explicar la notacion 
\begin_inset Formula $\subhom{\mathbf{A}}$
\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Proof
Supongamos que 
\begin_inset Formula $r\subseteq A^{n}$
\end_inset

 es join-irreducible en 
\begin_inset Formula $\mathbf{Op}(\mathbf{A})$
\end_inset

.
 Como 
\begin_inset Formula $r$
\end_inset

 es cerrado bajo 
\begin_inset Formula $\subiso{\mathbf{A}}$
\end_inset

 por pertenecer a 
\begin_inset Formula $\mathbf{Op}(\mathbf{A})$
\end_inset

, es claro que 
\begin_inset Formula 
\[
r=\bigcup_{\bar{x}\in r}\left\{ h\left(\bar{x}\right):h\in\subiso{\mathbf{A}}\right\} 
\]

\end_inset

, pero como 
\begin_inset Formula $r$
\end_inset

 es join-irreducible hay una 
\begin_inset Formula $\bar{a}\in r$
\end_inset

 tal que 
\begin_inset Formula $r=\left\{ h\left(\bar{a}\right):h\in\subiso{\mathbf{A}}\right\} $
\end_inset

.
\end_layout

\begin_layout Proof
Supongamos que 
\begin_inset Formula $r=\left\{ h\left(\bar{a}\right):h\in\subiso{\mathbf{A}}\right\} $
\end_inset

 para algun 
\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset

.
 Sean 
\begin_inset Formula $\enumeracion[m][r]\in\mathbf{Op}(\mathbf{A})$
\end_inset

 tales que 
\begin_inset Formula 
\[
r=r_{1}\cup\dots\cup r_{m}
\]

\end_inset

, es claro que hay un 
\begin_inset Formula $r_{j}$
\end_inset

 tal que 
\begin_inset Formula $\bar{a}\in r_{j}$
\end_inset

.
 Ademas como 
\begin_inset Formula $r_{j}$
\end_inset

 es cerrado bajo 
\begin_inset Formula $\subiso{\mathbf{A}}$
\end_inset

 por pertenecer a 
\begin_inset Formula $\mathbf{Op}(\mathbf{A})$
\end_inset

, entonces 
\begin_inset Formula $r=r_{j}$
\end_inset

.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "lem:ji sii uno generado abiertas positivas"

\end_inset

Una relación 
\begin_inset Formula $r\subseteq A^{n}$
\end_inset

 es join-irreducible en 
\begin_inset Formula $\mathbf{Op}^{+}(\mathbf{A})$
\end_inset

 sii hay 
\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset

 tal que 
\begin_inset Formula $r=\{h(\bar{a}):h\in\subhom{\mathbf{A}}\}$
\end_inset

.
\begin_inset Note Note
status open

\begin_layout Plain Layout
explicar la notacion 
\begin_inset Formula $\subhom{\mathbf{A}}$
\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Proof
Igual a la del Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:ji sii uno generado abiertas"

\end_inset


\end_layout

\begin_layout Section
Algoritmos
\end_layout

\begin_layout Standard
Con la intencion de simplificar la exposicion, supondremos que 
\begin_inset Formula $\mathcal{K}$
\end_inset

 tiene una unica estructura 
\begin_inset Formula $\mathbf{A}$
\end_inset

.
 La generalizacion es facilmente deducible ya que los algoritmos son casi
 iguales a los presentados en la Seccion 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:algoritmos de chequeo"

\end_inset

.
\end_layout

\begin_layout Standard
Como un algebra de Lindenbaum de relaciones definibles puede llegar a ser
 un objeto muy grande y dificil de manipular, nos basta generar los elementos
 join-irreducibles del algebra segun el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:representacion de stone, algebras de boole"

\end_inset

 para aquellas algebras de lindenbaum que son algebras de Boole y los atomos
 segun el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:representacion de birkhoff, reticulados"

\end_inset

, para aquellas que son reticulados.
\end_layout

\begin_layout Standard
Para generar los elementos join-irreducibles del algebra de Lindenbaum de
 relaciones de ancho 
\begin_inset Formula $n$
\end_inset

 definibles por abiertas en 
\begin_inset Formula $\mathbf{A}$
\end_inset

 basta con obtener el conjunto 
\begin_inset Formula $\mathcal{F}$
\end_inset

 de flechas que se chequean por preservacion en los algoritmos del Capítulo
 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:algoritmos de chequeo"

\end_inset

 que genera 
\begin_inset Formula $\subiso{\mathbf{A}}$
\end_inset

 por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset

, y luego calcular 
\begin_inset Formula $\{h(\bar{a}):h\in\subiso{\mathbf{A}}\}$
\end_inset

 para cada 
\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset

, ya que por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:ji sii uno generado abiertas"

\end_inset

, todos los elementos join-irreducibles son de esta forma.
 De la misma manera podemos construir el algebra de Lindenbaum de relaciones
 de ancho 
\begin_inset Formula $n$
\end_inset

 definibles por abiertas positivas en 
\begin_inset Formula $\mathbf{A}$
\end_inset

, basandonos en el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta positiva"

\end_inset

 y en el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:ji sii uno generado abiertas positivas"

\end_inset

.
\end_layout

\begin_layout Standard
Los algoritmos 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:construccion algebra abierta"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:construccion algebra abierta positiva"

\end_inset

, generan el conjunto 
\begin_inset Formula $\mathcal{F}$
\end_inset

 definidos por los Teoremas 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:construccion de constelacion abierta positiva"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Construccion de 
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\uuline off
\uwave off
\noun off
\color none
\lang english

\begin_inset Formula $\mathbf{Op}_{n}(\mathbf{A})$
\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:construccion algebra abierta"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{S}=\emptyset$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{F}=\emptyset$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $Sub=\left[\mathbf{C}:\mathbf{C}\in\subestrl{\mathbf{A}}{\mathcal{L}},\textnormal{ de la mayor a menor cardinalidad}\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in Sub$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset

iso 
\begin_inset Formula $=$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Call{
\end_layout

\end_inset

tieneRepresentante
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}_{0},\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
If{
\end_layout

\end_inset

iso 
\begin_inset Formula $\neq$
\end_inset

 Null
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{F}=\mathcal{F}\cup\left\{ \textnormal{iso}\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $Sub=\left[\mathbf{C}:\mathbf{C}\in Sub\textnormal{ tal que }C\nsubseteq B\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "lin:abierta-saco-subestructuras-2"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
Else
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{S}=\mathcal{S}\cup\left\{ \mathbf{B}\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\alpha\in Aut_{\mathcal{L}}(\mathbf{B})$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{F}=\mathcal{F}\cup\left\{ \alpha\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\mathcal{F}$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $R$
\end_inset

 es abierta-definible
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Statex
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Function{
\end_layout

\end_inset

tieneRepresentante
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}_{0},\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{S}\in\mathcal{S}$
\end_inset

, con 
\begin_inset Formula $\left|\mathbf{A}_{0}\right|=\left|\mathbf{S}\right|$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
If{
\end_layout

\end_inset

hay 
\begin_inset Formula $\funcion[\gamma]{\mathbf{A}_{0}}{\mathbf{S}}$
\end_inset

 isomorfismo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es isomorfismo con el representante
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset

Null 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

No tiene representante
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFunction
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement h
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Construccion de 
\begin_inset Formula $\mathbf{Op}_{n}^{+}(\mathbf{A})$
\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:construccion algebra abierta positiva"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{S}=\emptyset$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{F}=\emptyset$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $Sub=\left[\mathbf{C}:\mathbf{C}\in\subestrl{\mathbf{A}}{\mathcal{L}},\textnormal{ de la mayor a menor cardinalidad}\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in Sub$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\left(\textnormal{iso,}\mathcal{F}_{0}\right)=$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Call{
\end_layout

\end_inset

tieneRepresentante
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}_{0},\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{F}=\mathcal{F}\cup\mathcal{F}_{0}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\textnormal{iso}\neq\textnormal{null}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{F}=\mathcal{F}\cup\left\{ \textnormal{iso}\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $Sub=\left[\mathbf{C}:\mathbf{C}\in Sub\textnormal{ tal que }C\nsubseteq B\right]$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "lin:abierta-saco-subestructuras-1-1"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
Else
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{S}=\mathcal{S}\cup\left\{ \mathbf{B}\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\alpha\in Aut_{\mathcal{L}}(\mathbf{B})$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{F}=\mathcal{F}\cup\left\{ \alpha\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}\in\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{B}\in\mathcal{S}$
\end_inset

, con 
\begin_inset Formula $\left|\mathbf{B}\right|<\left|\mathbf{A}\right|$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\funcion[\gamma]{\mathbf{A}}{\mathbf{B}}$
\end_inset

 con 
\begin_inset Formula $\gamma$
\end_inset

 homomorfismo sobreyectivo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{F}=\mathcal{F}\cup\left\{ \gamma\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset

 
\begin_inset Formula $\mathcal{F}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $R$
\end_inset

 es definible por una abierta positiva
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Statex
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Function{
\end_layout

\end_inset

tieneRepresentante
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{A}_{0},\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{F}_{0}=\emptyset$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\mathbf{S}\in\mathcal{S}$
\end_inset

, con 
\begin_inset Formula $\left|\mathbf{A}_{0}\right|=\left|\mathbf{S}\right|$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $bihomo=False$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\funcion[\gamma]{\mathbf{A}_{0}}{\mathbf{S}}$
\end_inset

 con 
\begin_inset Formula $\gamma$
\end_inset

 homomorfismo biyectivo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $bihomo=True$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es un 
\begin_inset Formula $\mathcal{L}$
\end_inset

-isomorfismo, con 
\begin_inset Formula $\mathbf{S}\in\mathcal{S}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\left(\gamma,\emptyset\right)$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $\gamma$
\end_inset

 es isomorfismo con el representante
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
Else
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{F}_{0}=\mathcal{F}_{0}\cup\left\{ \gamma\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
If{
\end_layout

\end_inset


\begin_inset Formula $\lnot bihomo$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\funcion[\gamma]{\mathbf{S}}{\mathbf{A}_{0}}$
\end_inset

 con 
\begin_inset Formula $\gamma$
\end_inset

 homomorfismo biyectivo
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{F}_{0}=\mathcal{F}_{0}\cup\left\{ \gamma\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndIf
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\left(\textnormal{Null},\mathcal{F}_{0}\right)$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset

No tiene representante
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFunction
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Una vez calculado 
\begin_inset Formula $\mathcal{F}$
\end_inset

 basta con calcular 
\begin_inset Formula $\{h(\bar{a}):h\in\mathcal{F}\}$
\end_inset

 para cada 
\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset

, ya que 
\begin_inset Formula $\mathcal{F}$
\end_inset

 genera al conjunto correspondiente al tipo de definibilidad.
 Esto lo hacemos con el Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:construccion algebra saturacion"

\end_inset

, lo cual ya nos da los elementos join-irreducibles o los atomos, segun
 el tipo de definibilidad en cuestion.
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Saturacion por un conjunto de flechas
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "alg:construccion algebra saturacion"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{algorithmic}[1]
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{A}=\emptyset$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\bar{a}\in A^{n}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $\mathcal{A}=\mathcal{A}\cup\{$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Call{
\end_layout

\end_inset

clausura
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\bar{a},\mathcal{E}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\begin_inset Formula $\}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $\mathcal{A}$
\end_inset

 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Comment 
\end_layout

\end_inset


\begin_inset Formula $R$
\end_inset

 es abierta-definible
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Statex
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Function{
\end_layout

\end_inset

clausura
\begin_inset ERT
status open

\begin_layout Plain Layout

}{
\end_layout

\end_inset


\begin_inset Formula $\bar{a},\mathcal{E}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $e=\left\{ \bar{a}\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
While{
\end_layout

\end_inset


\begin_inset Formula $e$
\end_inset

 crezca
\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\bar{a}\in e$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
For{
\end_layout

\end_inset


\begin_inset Formula $\gamma\in\mathcal{E}$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

			
\backslash
State{
\end_layout

\end_inset


\begin_inset Formula $e=e\cup\left\{ \gamma\left(\bar{b}\right)\right\} $
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

		
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout

	
\backslash
EndFor
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndWhile
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
State{
\end_layout

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
Return 
\end_layout

\end_inset


\begin_inset Formula $e$
\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout

}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
EndFunction
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{algorithmic}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para los demas tipos de definibilidad, el procedimiento seria analogo.
 Generar 
\begin_inset Formula $\mathcal{F}$
\end_inset

 basados en los algoritmos del capitulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:algoritmos de chequeo"

\end_inset

 y saturar segun el Algoritmo 
\begin_inset CommandInset ref
LatexCommand ref
reference "alg:construccion algebra saturacion"

\end_inset

.
\end_layout

\begin_layout Section
Ejemplos y aplicación
\end_layout

\begin_layout Subsection
Utilizando el paquete Definability para SageMath
\end_layout

\begin_layout Standard
A manera de prueba de las herramientas utilizamos Definability para recorrer
 todas las relaciones binarias definibles en el reticulado 
\begin_inset Formula $\mathbf{2}\times\mathbf{2}$
\end_inset

 , representado en la figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig: reticulado 2x2"

\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Reticulado 
\begin_inset Formula $\mathbf{2}\times\mathbf{2}$
\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig: reticulado 2x2"

\end_inset


\end_layout

\begin_layout Plain Layout

\lang english
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1.0cm,y=1.0cm]
 
\backslash
clip(-3.14,-0.61) rectangle (3.01,2.56); 
\backslash
draw (-1,1)-- (0,2); 
\backslash
draw (0,2)-- (1,1); 
\backslash
draw (1,1)-- (0,0); 
\backslash
draw (0,0)-- (-1,1); 
\backslash
begin{scriptsize} 
\backslash
fill [color=black] (0,0) circle (1.5pt); 
\backslash
draw[color=black] (0.01,-0.17) node {0}; 
\backslash
fill [color=black] (1,1) circle (1.5pt); 
\backslash
draw[color=black] (1.15,1.02) node {3}; 
\backslash
fill [color=black] (-1,1) circle (1.5pt); 
\backslash
draw[color=black] (-1.15,1.01) node {2}; 
\backslash
fill [color=black] (0,2) circle (1.5pt); 
\backslash
draw[color=black] (0.01,2.14) node {1}; 
\backslash
end{scriptsize} 
\backslash
end{tikzpicture}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Al correr el algoritmo de generación de los elementos join-irreducibles
 del algebra de lindenbaum de relaciones binarias definibles por existenciales
 en 
\begin_inset Formula $\mathbf{2}\times\mathbf{2}$
\end_inset

, Definability nos devolvió las siguientes relaciones:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(0,0\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(0,1\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(0,2\right),\left(0,3\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(1,0\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(1,1\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(1,2\right),\left(1,3\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(2,0\right),\left(3,0\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(2,1\right),\left(3,1\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(2,2\right),\left(3,3\right)\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(2,3\right),\left(3,2\right)\right\} $
\end_inset


\end_layout

\begin_layout Standard
Aqui se puede notar las ventajas de utilizar el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:representacion de birkhoff, reticulados"

\end_inset

, ya que el reticulado descripto por estos 10 elementos tiene cardinalidad
 
\begin_inset Formula $2^{10}=1024$
\end_inset

, ya que son todas las uniones entre elementos join-irreducibles.
\end_layout

\begin_layout Standard
En cuanto a los elementos join-irreducibles del reticulado de relaciones
 binarias definibles por existenciales positivas nos devolvio:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(0,0\right),\left(1,1\right),\left(2,2\right),\left(3,3\right)\right\} =\Delta$
\end_inset

 
\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(0,0\right),\left(0,1\right),\left(0,2\right),\left(0,3\right),\left(1,1\right),\left(2,1\right),\left(2,2\right),\left(3,1\right),\left(3,3\right)\right\} =\left\{ \left(x,y\right):x\leq y\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(0,0\right),\left(1,0\right),\left(1,1\right),\left(1,2\right),\left(1,3\right),\left(2,0\right),\left(2,2\right),\left(3,0\right),\left(3,3\right)\right\} =\left\{ \left(x,y\right):x\geq y\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $A^{2}$
\end_inset


\end_layout

\begin_layout Standard
Lo que mediante el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:representacion de birkhoff, reticulados"

\end_inset

, define un subreticulado del anterior, mucho mas pequeño, como se puede
 ver en la Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:reticulado de relaciones existenciales positivas en 2x2"

\end_inset

, donde los nodos sin rellenar son los elementos join-irreducibles devueltos
 por el paquete.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Reticulado de relaciones binarias definibles por existenciales positivas
 en 
\begin_inset Formula $\mathbf{2}\times\mathbf{2}$
\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "fig:reticulado de relaciones existenciales positivas en 2x2"

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1.0cm,y=1.0cm]
 
\backslash
clip(7.99,-5.73) rectangle (16.7,-1.24); 
\backslash
draw (12,-2)-- (12,-3); 
\backslash
draw (12,-3)-- (11,-4); 
\backslash
draw (11,-4)-- (12,-5); 
\backslash
draw (12,-5)-- (13,-4); 
\backslash
draw (13,-4)-- (12,-3); 
\backslash
begin{scriptsize} 
\backslash
draw [color=black] (12,-5) circle (2.5pt); 
\backslash
draw[color=black] (12,-5.26) node {$
\backslash
emptyset$}; 
\backslash
draw [color=black] (11,-4) circle (2.5pt); 
\backslash
draw[color=black] (10.72,-4.03) node {$
\backslash
leq$}; 
\backslash
fill [color=black] (12,-3) circle (1.5pt); 
\backslash
draw[color=black] (12.64,-3.01) node {$
\backslash
leq
\backslash
cup
\backslash
geq$}; 
\backslash
draw [color=black] (13,-4) circle (2.5pt); 
\backslash
draw[color=black] (13.27,-4.03) node {$
\backslash
geq$}; 
\backslash
draw [color=black] (12,-2) circle (2.5pt); 
\backslash
draw[color=black] (12.05,-1.69) node {$A^2$}; 
\backslash
end{scriptsize} 
\backslash
end{tikzpicture}
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Luego probamos buscando los elementos join-irreducibles del reticulado de
 relaciones binarias definibles por existenciales positivas en el reticulado
 
\begin_inset Formula $\mathbf{3}\times\mathbf{3}$
\end_inset

 lo que nos dio nuevamente:
\end_layout

\begin_layout Itemize
\begin_inset Formula $\Delta$
\end_inset

 
\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(x,y\right):x\leq y\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $\left\{ \left(x,y\right):x\geq y\right\} $
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $A^{2}$
\end_inset


\end_layout

\begin_layout Standard
Lo que nos llevo a conjeturar el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:Caracterizacion de las relaciones binarias definibles por existenciales positivas en reticulados distributivos"

\end_inset

, que probamos a continuación.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "lem:relacion existencial definible es idempotente"

\end_inset

Sea 
\begin_inset Formula $\mathbf{L}$
\end_inset

 un reticulado y 
\begin_inset Formula $R$
\end_inset

 una relación binaria no vacía sobre 
\begin_inset Formula $L$
\end_inset

 preservada por endomorfismos en 
\begin_inset Formula $\mathbf{L}$
\end_inset

.
 Entonces vale que 
\begin_inset Formula $\Delta^{L}\subseteq R$
\end_inset

.
\end_layout

\begin_layout Proof
Esto es una consecuencia directa de que para cada 
\begin_inset Formula $a\in L$
\end_inset

 la función de 
\begin_inset Formula $L$
\end_inset

 en 
\begin_inset Formula $L$
\end_inset

 que vale constantemente 
\begin_inset Formula $a$
\end_inset

 es un endomorfismo.
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:filtro primo"

\end_inset


\begin_inset Argument 1
status open

\begin_layout Plain Layout
Teorema del filtro primo
\end_layout

\end_inset

 Sea 
\begin_inset Formula $\left\langle L,\vee,\wedge\right\rangle $
\end_inset

 un reticulado distributivo y 
\begin_inset Formula $F$
\end_inset

 un filtro.
 Supongamos 
\begin_inset Formula $x\in L-F$
\end_inset

.
 Entonces hay un filtro primo 
\begin_inset Formula $P$
\end_inset

 tal que 
\begin_inset Formula $x\notin P$
\end_inset

 y 
\begin_inset Formula $F\subseteq P$
\end_inset

.
\end_layout

\begin_layout Lemma
\begin_inset CommandInset label
LatexCommand label
name "lem:relacion existencial definible incluye al mayor o igual o es la diagonal sino incluye al menor igual"

\end_inset

Sea 
\begin_inset Formula $\mathbf{L}$
\end_inset

 un reticulado distributivo y 
\begin_inset Formula $R$
\end_inset

 una relación binaria no vacía sobre 
\begin_inset Formula $L$
\end_inset

 preservada por endomorfismos en 
\begin_inset Formula $\mathbf{L}$
\end_inset

.
 Si hay 
\begin_inset Formula $(a,b)\in R$
\end_inset

 tal que 
\begin_inset Formula $a\nleq b$
\end_inset

 (respectivamente 
\begin_inset Formula $b\nleq a$
\end_inset

), entonces 
\begin_inset Formula $\{(x,y):x\geq y\}\subseteq R$
\end_inset

 (respectivamente 
\begin_inset Formula $\{(x,y):x\leq y\}\subseteq R$
\end_inset

).
\end_layout

\begin_layout Proof
Fijamos 
\begin_inset Formula $\left(a,b\right)\in R$
\end_inset

 tal que 
\begin_inset Formula $a\nleq b$
\end_inset

, y sean 
\begin_inset Formula $c,d\in L$
\end_inset

 tales que 
\begin_inset Formula $c\geq d$
\end_inset

.
 Veremos que 
\begin_inset Formula $\left(c,d\right)\in R$
\end_inset

.
 Por el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:filtro primo"

\end_inset

 hay un filtro primo 
\begin_inset Formula $P$
\end_inset

 que contiene al filtro generado por 
\begin_inset Formula $a$
\end_inset

 y además 
\begin_inset Formula $b\notin P$
\end_inset

.
 Definimos 
\begin_inset Formula $h:L\rightarrow L$
\end_inset

 por 
\begin_inset Formula 
\[
h\left(x\right)=\begin{cases}
c & \textnormal{si }x\in P,\\
d & \textnormal{si }x\notin P.
\end{cases}
\]

\end_inset

 Es fácil ver que 
\begin_inset Formula $h$
\end_inset

 es un endomorfismo.
 Finalmente como 
\begin_inset Formula $\left(a,b\right)\in R$
\end_inset

 y 
\begin_inset Formula $h$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

, 
\begin_inset Formula $\left(h\left(a\right),h\left(b\right)\right)=\left(c,d\right)\in R$
\end_inset

.
\end_layout

\begin_layout Theorem
\begin_inset CommandInset label
LatexCommand label
name "thm:Caracterizacion de las relaciones binarias definibles por existenciales positivas en reticulados distributivos"

\end_inset

Sea 
\begin_inset Formula $\mathbf{L}$
\end_inset

 un reticulado distributivo y 
\begin_inset Formula $R$
\end_inset

 una relación binaria sobre 
\begin_inset Formula $L$
\end_inset

 definible por un fórmula existencial positiva en 
\begin_inset Formula $\mathbf{L}$
\end_inset

.
 Se da una de las siguientes:
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $R=\Delta$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $R=\{(x,y):x\leq y\}$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $R=\{(x,y):x\geq y\}$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $R=\{(x,y):x\leq y\}\cup\{(x,y):x\geq y\}$
\end_inset

,
\end_layout

\begin_layout Itemize
\begin_inset Formula $R=L\times L$
\end_inset

.
\end_layout

\end_deeper
\begin_layout Proof
Si 
\begin_inset Formula $R\subseteq\Delta$
\end_inset

, por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:relacion existencial definible es idempotente"

\end_inset

 
\begin_inset Formula $R=\Delta$
\end_inset

.
 
\end_layout

\begin_layout Proof
Si 
\begin_inset Formula $R\subseteq\{(x,y):x\leq y\}$
\end_inset

, pero 
\begin_inset Formula $R\nsubseteq\Delta$
\end_inset

, hay 
\begin_inset Formula $\left(a,b\right)\in R$
\end_inset

 tales que 
\begin_inset Formula $a<b$
\end_inset

, entonces 
\begin_inset Formula $a\ngeq b$
\end_inset

 y por el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:relacion existencial definible incluye al mayor o igual o es la diagonal sino incluye al menor igual"

\end_inset

 
\begin_inset Formula $R=\{(x,y):x\leq y\}$
\end_inset

.
 Análogo para 
\begin_inset Formula $R\subseteq\{(x,y):x\geq y\}$
\end_inset

.
\end_layout

\begin_layout Proof
Si 
\begin_inset Formula $R\nsubseteq\{(x,y):x\leq y\}$
\end_inset

 y 
\begin_inset Formula $R\nsubseteq\{(x,y):x\geq y\}$
\end_inset

, aplicando dos veces el Lema 
\begin_inset CommandInset ref
LatexCommand ref
reference "lem:relacion existencial definible incluye al mayor o igual o es la diagonal sino incluye al menor igual"

\end_inset

 
\begin_inset Formula $\left\{ \left(x,y\right):x\leq y\right\} \cup\left\{ \left(x,y\right):x\geq y\right\} \subseteq R$
\end_inset

.
 Si además 
\begin_inset Formula $\left(a,b\right)\in R$
\end_inset

 pero 
\begin_inset Formula $a\nleq b$
\end_inset

 y 
\begin_inset Formula $a\ngeq b$
\end_inset

, tomo 
\begin_inset Formula $\left(c,d\right)\in R$
\end_inset

, si son comparables ya esta están en 
\begin_inset Formula $R$
\end_inset

 por lo anterior.
 Si son incomparables aplico dos veces el Teorema 
\begin_inset CommandInset ref
LatexCommand ref
reference "thm:filtro primo"

\end_inset

 y tomo dos filtros primos 
\begin_inset Formula $P$
\end_inset

 y 
\begin_inset Formula $Q$
\end_inset

 tales que 
\begin_inset Formula $a\in P$
\end_inset

 pero 
\begin_inset Formula $b\notin P$
\end_inset

 y 
\begin_inset Formula $b\in Q$
\end_inset

 pero 
\begin_inset Formula $a\notin Q$
\end_inset

.
 Ahora definimos la siguiente función
\begin_inset Formula 
\[
h\left(x\right)=\begin{cases}
c\vee d & \textnormal{si }x\in P\cup Q\\
c & \textnormal{si }x\in P-Q\\
d & \textnormal{si }x\in Q-P\\
c\wedge d & \textnormal{si }x\notin P\textnormal{ y }x\notin Q
\end{cases}
\]

\end_inset

 que fácilmente puede verse que es un endomorfismo.
 Por lo tanto como 
\begin_inset Formula $\left(a,b\right)\in R$
\end_inset

 y 
\begin_inset Formula $h$
\end_inset

 preserva 
\begin_inset Formula $R$
\end_inset

, 
\begin_inset Formula $\left(h\left(a\right),h\left(b\right)\right)=\left(c,d\right)\in R$
\end_inset

.
 Por lo tanto 
\begin_inset Formula $R=L\times L$
\end_inset

.
\end_layout

\begin_layout Chapter
Documentación de Definability 
\end_layout

\begin_layout Section
Introducción
\end_layout

\begin_layout Standard
Definability es un paquete que desarrollamos para SageMath, un software
 matemático licenciado bajo la GPL.
 Nuestro paquete implementa los algoritmos vistos en las secciones anteriores
 y permite dada una clase de estructuras, decidir definibilidad o generar
 las álgebras de Lindenbaum de relaciones definibles.
\end_layout

\begin_layout Standard
Nuestro paquete se basa en parte en las librerías desarrolladas por Peter
 Jipsen para utilizar Minion y Universal Álgebra Calculator desde SageMath.
 
\begin_inset Note Note
status open

\begin_layout Plain Layout
http://math.chapman.edu/~jipsen/sagepkg/
\end_layout

\end_inset


\end_layout

\begin_layout Standard
El paquete se desarrolla en 
\begin_inset CommandInset href
LatexCommand href
name "https://github.com/pablogventura/tesis"
target "GitHub"

\end_inset

.
\end_layout

\begin_layout Section
Instalación
\end_layout

\begin_layout Subsection
Requerimientos
\end_layout

\begin_layout Itemize
SageMath 6.7 o superior.
\end_layout

\begin_layout Itemize
Minion 1.8 o superior.
\end_layout

\begin_layout Itemize
LADR versión de noviembre de 2009, (interfaz de linea de comandos de Prover9,
 Mace4, y otros programas)
\end_layout

\begin_layout Itemize
Git
\end_layout

\begin_layout Subsection
Instalación del paquete en SageMath
\end_layout

\begin_layout Standard
Suponiendo que tenemos instalado SageMath en la ruta absoluta SAGEDIR, nos
 movemos al directorio donde se quiere descargar el paquete Definability,
 seguimos los siguientes comandos para instalar el paquete en nuestra instalacio
n de SageMath:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{listing}[style=consola, numbers=none]
\end_layout

\begin_layout Plain Layout

$ git checkout https://github.com/pablogventura/tesis.git
\end_layout

\begin_layout Plain Layout

$ cd tesis/package
\end_layout

\begin_layout Plain Layout

$ ./make_spkg.sh
\end_layout

\begin_layout Plain Layout

$ mv definability-hash.spkg SAGEDIR
\end_layout

\begin_layout Plain Layout

$ cd SAGEDIR
\end_layout

\begin_layout Plain Layout

$ ./sage -i definability-hash.spkg
\end_layout

\begin_layout Plain Layout


\backslash
end{listing}
\end_layout

\end_inset


\end_layout

\begin_layout Section
Uso del paquete
\end_layout

\begin_layout Standard
Una vez instalado el paquete basta con arrancar Sage con el comando:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{listing}[style=consola, numbers=none]
\end_layout

\begin_layout Plain Layout

$ ./sage
\end_layout

\begin_layout Plain Layout


\backslash
end{listing}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
y una vez en la consola de Sage, importamos el paquete con el comando:
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{lstlisting}[language=python]
\end_layout

\begin_layout Plain Layout

sage: import definability 
\end_layout

\begin_layout Plain Layout


\backslash
end{lstlisting}
\end_layout

\end_inset


\end_layout

\begin_layout Section
Generación y entrada de estructuras
\end_layout

\begin_layout Standard
Al momento de ingresar estructuras para su chequeo puede optarse por la
 generacion automatica de estructuras a partir de una teoria de primer orden
 utilizando Mace4 de fondo, o la entrada de una estructura en particular
 manualmente.
\end_layout

\begin_layout Subsection
Generación de estructuras de una teoría de primer orden
\end_layout

\begin_layout Standard
Para definir un objeto del tipo FO_Theory que implementa a una teoría de
 primer orden basta con un nombre, una descripcion, y una lista de axiomas.
 Por ejemplo para definir la teoria de reticulados bastaria con la siguiente
 linea:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "language=Python,breaklines=true,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

Lat = definability.FO_Theory("Lat",
\end_layout

\begin_layout Plain Layout

                             "Lattices",
\end_layout

\begin_layout Plain Layout

                             ['(x v y) v z = x v (y v z)',
\end_layout

\begin_layout Plain Layout

                              'x v y = y v x',
\end_layout

\begin_layout Plain Layout

                              '(x^y)^z = x^(y^z)',
\end_layout

\begin_layout Plain Layout

                              'x^y = y^x',
\end_layout

\begin_layout Plain Layout

                              '(x v y)^x = x',
\end_layout

\begin_layout Plain Layout

                              '(x^y) v x = x'])
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Ahora para recorrer los reticulados (filtrando isomorfismos) basta con llamar
 al metodo find_models con la cardinalidad buscada, el cual devuelve un
 generador.
 Por ejemplo para recorrer los reticulados de 5 elementos basta con 
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "language=Python,breaklines=true,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

list(Lat.find_models(5))
\end_layout

\end_inset

que devolverá una lista con todos los reticulados de 5 elementos filtrando
 isomorfismos.
\end_layout

\begin_layout Standard
Nuestro paquete incluye una gran variedad de teorias de primer orden ya
 cargadas en el modulo fotheories las cuales se pueden revisar mediante
 listar el modulo fotheories de nuestro paquete con el siguiente comando:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "language=Python,breaklines=true,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

dir(definability.fotheories)
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Entrada manual de una estructura
\end_layout

\begin_layout Standard
Supongamos que queremos ingresar manualmente el reticulado 
\begin_inset Formula $\mathbf{2}\times\mathbf{2}$
\end_inset

.
 Lo primero es definir el tipo de primer orden al que pertenece.
 Para crear un objeto de la clase FO_Type basta con pasar dos diccionarios,
 el primero para las funciones y el segundo para las relaciones.
 Los diccionarios contienen las aridades y se indexan por los simbolos correspon
dientes.
 Por ejemplo, para definir el tipo de los reticulados:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "language=Python,breaklines=true,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

tlat = definability.FO_Type({'v': 2, '^': 2},{})
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Luego se debe definir un universo para la estructura, como por ejemplo
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "language=Python,breaklines=true,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

universe = [0,1,2,3]
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Luego se necesitan definir las funciones supremo e infimo.
 Una funcion se puede definir mediante un diccionario con claves de tuplas
 que apuntan al valor de la funcion, o en el caso de funciones binarias,
 una matriz 
\begin_inset Formula $A$
\end_inset

 donde el valor 
\begin_inset Formula $A_{i,j}$
\end_inset

 se corresponde a la funcion evaluada en 
\begin_inset Formula $\left(i,j\right)$
\end_inset

.
 Siguiendo con el ejemplo definimos el infimo y el supremo utilizando cada
 una de las maneras:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "language=Python,breaklines=true,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

meet = definability.FO_Operation({(0, 0): 0,
\end_layout

\begin_layout Plain Layout

                                  (0, 1): 0,
\end_layout

\begin_layout Plain Layout

                                  (0, 2): 0,
\end_layout

\begin_layout Plain Layout

                                  (0, 3): 0,
\end_layout

\begin_layout Plain Layout

                                  (1, 0): 0,
\end_layout

\begin_layout Plain Layout

                                  (1, 1): 1,
\end_layout

\begin_layout Plain Layout

                                  (1, 2): 2,
\end_layout

\begin_layout Plain Layout

                                  (1, 3): 3,
\end_layout

\begin_layout Plain Layout

                                  (2, 0): 0,
\end_layout

\begin_layout Plain Layout

                                  (2, 1): 2,
\end_layout

\begin_layout Plain Layout

                                  (2, 2): 2,
\end_layout

\begin_layout Plain Layout

                                  (2, 3): 0,
\end_layout

\begin_layout Plain Layout

                                  (3, 0): 0,
\end_layout

\begin_layout Plain Layout

                                  (3, 1): 3,
\end_layout

\begin_layout Plain Layout

                                  (3, 2): 0,
\end_layout

\begin_layout Plain Layout

                                  (3, 3): 3})
\end_layout

\begin_layout Plain Layout

join = definability.FO_Operation([[0,1,2,3],
\end_layout

\begin_layout Plain Layout

                                  [1,1,1,1],
\end_layout

\begin_layout Plain Layout

                                  [2,1,2,1],
\end_layout

\begin_layout Plain Layout

                                  [3,1,1,3]])
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Finalmente, para definir el reticulado basta con hacer:
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "language=Python,breaklines=true,showstringspaces=false"
inline false
status open

\begin_layout Plain Layout

definability.FO_Model(tlat, uni, {'^': meet, 'v': join},{})
\end_layout

\end_inset


\end_layout

\begin_layout Section
Chequeo de definibilidad
\end_layout

\begin_layout Standard
Una vez definidas las estructuras, para chequear definibilidad se utiliza
 un objeto Constellation,
\end_layout

\begin_layout Section
Generación de álgebras de Lindenbaum
\end_layout

\begin_layout Chapter
Conclusiones y trabajo futuro
\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
mover a trabajo futuro
\end_layout

\end_inset

La ventaja de utilizar CSP es que hay múltiples circunstancias en las que
 uno de estos problemas se pueden resolver muy eficientemente, y pensamos
 continuar nuestro trabajo buscando maneras de aprovechar estas propiedades.
\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
esto lo moveria a la seccion de trabajo futuro, y cambiaria el conocemos,
 ya que no tenemos idea :).
\end_layout

\end_inset

Dado que conocemos implementaciones de este problema mucho mas eficientes,
 como por ejemplo la del Universal Algebra Calculator, pensamos mejorar
 en el futuro el algoritmo para generación de subestructuras que hemos estado
 utilizando durante este trabajo.
\end_layout

\begin_layout Itemize
Que un conjunto de flechas alcance para revisar preservación implica que
 genera el conjunto de flechas completo?
\end_layout

\begin_layout Itemize
Para chequear si alguien es subestructura de otro, quizá conviene recorrer
 mapeos que son embeddings sabiendo que la imagen va a ser una subestructura
 isomorfa.
\end_layout

\begin_layout Itemize
Que hace Minion cuando se le prohíben soluciones (negativetable).
 Quizás primero experimentar con ejemplos.
\end_layout

\begin_layout Itemize
Explorar la relación entre generadores de una subestructura y homomorfismos.
\end_layout

\begin_layout Itemize
De menor a mayor o de menor a mayor las subestructuras?
\end_layout

\begin_layout Standard
\begin_inset Note Note
status open

\begin_layout Plain Layout
\begin_inset CommandInset bibtex
LatexCommand bibtex
bibfiles "tesis"
options "babplain"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
printbibliography
\end_layout

\end_inset


\end_layout

\end_body
\end_document
